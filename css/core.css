/**
 * TABLE OF CONTENTS:
 *   1. Variables
 *   2. Base
 *   3. Headers
 *   4. Lists
 *   5. Tables
 *   6. Tags & Highlighting
 *   7. Typographic Flourishes
 *   8. Admonitions
 *   9. Menubar
 *   10. Cards
 *   11. Flexbox
 *   12. Media
 */


/**********************
 ***  1. VARIABLES  ***
 **********************/

:root {
    /**
     * -----------------------
     * Typography & Whitespace
     * -----------------------
     */
    
    /**
     * Base gap setting that all margin/padding values derive from. Increase
     * or decrease to expand or contract the reletive "comfiness" of the site.
     */
    --gap: 1.3em;
    --gap2: calc(var(--gap) * 2);
    --gap3: calc(var(--gap) * 3);
    --half-gap: calc(var(--gap) / 2);

    --body-line-height: 1.45em;
    --header-line-height: 1.2em;

    /**
     * ------------------
     * Light Mode Widgets
     * ------------------
     */
    
    --widget-background-opacity: 0.975;
    --widget-background: hsla(var(--accent-hue), 10%, 93%, var(--widget-background-opacity));
    --widget-saturation: 5%;
    --widget-lightness: 62.5%;
    --widget-border: hsla(var(--accent-hue), var(--widget-saturation), var(--widget-lightness), 0.2);

    --admonition-left-border-lightness-adjustment: 10%;
    --default-admonition-shadow: 0em 1em 2.75em hsla(var(--accent-hue), var(--widget-saturation), 20%, 0.1), 0em 0.22em 0.6em hsla(var(--accent-hue), var(--widget-saturation), 20%, 0.05);

    --highlight-background-opacity: 0.1;

    /**
     * ------------------
     * Light Mode Shadows
     * ------------------
     */
    
    --inactive-shadow: 0em 1em 2.75em rgba(50, 50, 50, 0.1), 0em 0.22em 0.6em rgba(50, 50, 50, 0.05);
    --active-shadow: 0em 2em 3.5em rgba(50, 50, 50, 0.15), 0em 0.45em 0.85em rgba(50, 50, 50, 0.1);

    /**
     * -----------------
     * Light Mode Colors
     * -----------------
     */

    --primary-foreground: rgba(30, 30, 30, 0.9);
    --secondary-foreground: rgba(30, 30, 30, 0.375);
    /**
     * Explicitly declaring the light mode heavy secondary foreground color
     * for the iMac stroke color to use.
     */
    --light-heavy-secondary-foreground: rgba(30, 30, 30, 0.6);
    --heavy-secondary-foreground: var(--light-heavy-secondary-foreground);

    --table-washboard-background: rgba(245, 245, 245, 0.75);

    /**
     * -------------------
     * Light Accent Colors
     * -------------------
     */

    --background-color: hsl(var(--accent-hue), 50%, 99%);

    --accent-color: var(--accent-hue), var(--accent-saturation), var(--accent-lightness);
    --accent-color-p3: display-p3 var(--accent-r) var(--accent-g) var(--accent-b);

    --graphite-hue: 240;
    --graphite-saturation: 24%;
    --graphite-lightness: 96%;

    --blue-hue: 211;
    --blue-saturation: 100%;
    --blue-lightness: 50%;
    --blue-r: 0;
    --blue-g: 0.47843137;
    --blue-b: 1;
    --blue-color: var(--blue-hue), var(--blue-saturation), var(--blue-lightness);
    --blue-color-p3: display-p3 var(--blue-r) var(--blue-g) var(--blue-b);

    --red-hue: 3;
    --red-saturation: 100%;
    --red-lightness: 59%;
    --red-r: 1;
    --red-g: 0.23137255;
    --red-b: 0.18823529;
    --red-color: var(--red-hue), var(--red-saturation), var(--red-lightness);
    --red-color-p3: display-p3 var(--red-r) var(--red-g) var(--red-b);

    --orange-hue: 30;
    --orange-saturation: 100%;
    --orange-lightness: 50%;
    --orange-r: 1;
    --orange-g: 0.58431373;
    --orange-b: 0;
    --orange-color: var(--orange-hue), var(--orange-saturation), var(--orange-lightness);
    --orange-color-p3: display-p3 var(--orange-r) var(--orange-g) var(--orange-b);

    --yellow-hue: 48;
    --yellow-saturation: 90%;
    --yellow-lightness: 50%;
    --yellow-r: 0.94901961;
    --yellow-g: 0.76862745;
    --yellow-b: 0.05882353;
    --yellow-color: var(--yellow-hue), var(--yellow-saturation), var(--yellow-lightness);
    --yellow-color-p3: display-p3 var(--yellow-r) var(--yellow-g) var(--yellow-b);

    --green-hue: 130;
    --green-saturation: 60%;
    --green-lightness: 50%;
    --green-r: 0.20392157;
    --green-g: 0.78039216;
    --green-b: 0.34901961;
    --green-color: var(--green-hue), var(--green-saturation), var(--green-lightness);
    --green-color-p3: display-p3 var(--green-r) var(--green-g) var(--green-b);

    --purple-hue: 280;
    --purple-saturation: 68%;
    --purple-lightness: 60%;
    --purple-r: 0.68627451;
    --purple-g: 0.32156863;
    --purple-b: 0.87058824;
    --purple-color: var(--purple-hue), var(--purple-saturation), var(--purple-lightness);
    --purple-color-p3: display-p3 var(--purple-r) var(--purple-g) var(--purple-b);

    --pink-hue: 322;
    --pink-saturation: 100%;
    --pink-lightness: 64%;
    --pink-r: 1;
    --pink-g: 0.27843137;
    --pink-b: 0.61568627;
    --pink-color: var(--pink-hue), var(--pink-saturation), var(--pink-lightness);
    --pink-color-p3: display-p3 var(--pink-r) var(--pink-g) var(--pink-b);
}
    @supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or (backdrop-filter: saturate(180%) blur(20px))) {
        :root {
            --widget-background-opacity: 0.85;
        }
    }
:root#dark {
    /**
     * -----------------
     * Dark Mode Widgets
     * -----------------
     */
    
    --widget-background: hsla(var(--accent-hue), 10%, 16%, var(--widget-background-opacity));
    --widget-lightness: 37.5%;

    --admonition-left-border-lightness-adjustment: -10%;
    --default-admonition-shadow: 0em 1em 2.75em hsla(var(--accent-hue), var(--widget-saturation), 60%, 0.1), 0em 0.22em 0.6em hsla(var(--accent-hue), var(--widget-saturation), 60%, 0.05);

    --highlight-background-opacity: 0.15;

    /**
     * ------------------
     * Dark Mode Shadows
     * ------------------
     */

    --inactive-shadow: 0em 1em 2.75em rgba(0, 0, 0, 0.1), 0em 0.22em 0.6em rgba(0, 0, 0, 0.05);
    --active-shadow: 0em 2em 3.5em rgba(0, 0, 0, 0.35), 0em 0.45em 0.85em rgba(0, 0, 0, 0.2);

    /**
     * ----------------
     * Dark Mode Colors
     * ----------------
     */
    
    --primary-foreground: rgba(255, 255, 255, 0.9);
    --secondary-foreground: rgba(255, 255, 255, 0.375);
    --heavy-secondary-foreground: rgba(255, 255, 255, 0.6);

    --table-washboard-background: rgba(15, 15, 15, 0.25);

    /**
     * ------------------
     * Dark Accent Colors
     * ------------------
     */

    --background-color: hsl(var(--accent-hue), 15%, 12%);

    --graphite-hue: 240;
    --graphite-saturation: 3%;
    --graphite-lightness: 11%;

    --blue-hue: 210;
    --blue-saturation: 100%;
    --blue-lightness: 52%;
    --blue-r: 0.03921569;
    --blue-g: 0.51764706;
    --blue-b: 1;

    --red-hue: 3;
    --red-saturation: 100%;
    --red-lightness: 61%;
    --red-r: 1;
    --red-g: 0.27058824;
    --red-b: 0.22745098;

    --orange-hue: 36;
    --orange-saturation: 100%;
    --orange-lightness: 52%;
    --orange-r: 1;
    --orange-g: 0.62352941;
    --orange-b: 0.03921569;

    --yellow-hue: 50;
    --yellow-saturation: 100%;
    --yellow-lightness: 52%;
    --yellow-r: 1;
    --yellow-g: 0.83921569;
    --yellow-b: 0.03921569;

    --green-hue: 135;
    --green-saturation: 64%;
    --green-lightness: 50%;
    --green-r: 0.18823529;
    --green-g: 0.81960784;
    --green-b: 0.34509804;

    --purple-hue: 280;
    --purple-saturation: 85%;
    --purple-lightness: 65%;
    --purple-r: 0.74901961;
    --purple-g: 0.35294118;
    --purple-b: 0.94901961;

    --pink-hue: 332;
    --pink-saturation: 91%;
    --pink-lightness: 64%;
    --pink-r: 0.96862745;
    --pink-g: 0.30980392;
    --pink-b: 0.61960784;
}
:root,
.blue {
    --accent-hue: var(--blue-hue);
    --accent-saturation: var(--blue-saturation);
    --accent-lightness: var(--blue-lightness);
    --accent-r: var(--blue-r);
    --accent-g: var(--blue-g);
    --accent-b: var(--blue-b);
}
.red {
    --accent-hue: var(--red-hue);
    --accent-saturation: var(--red-saturation);
    --accent-lightness: var(--red-lightness);
    --accent-r: var(--red-r);
    --accent-g: var(--red-g);
    --accent-b: var(--red-b);
}
.orange {
    --accent-hue: var(--orange-hue);
    --accent-saturation: var(--orange-saturation);
    --accent-lightness: var(--orange-lightness);
    --accent-r: var(--orange-r);
    --accent-g: var(--orange-g);
    --accent-b: var(--orange-b);
}
.yellow {
    --accent-hue: var(--yellow-hue);
    --accent-saturation: var(--yellow-saturation);
    --accent-lightness: var(--yellow-lightness);
    --accent-r: var(--yellow-r);
    --accent-g: var(--yellow-g);
    --accent-b: var(--yellow-b);
}
.green {
    --accent-hue: var(--green-hue);
    --accent-saturation: var(--green-saturation);
    --accent-lightness: var(--green-lightness);
    --accent-r: var(--green-r);
    --accent-g: var(--green-g);
    --accent-b: var(--green-b);
}
.purple {
    --accent-hue: var(--purple-hue);
    --accent-saturation: var(--purple-saturation);
    --accent-lightness: var(--purple-lightness);
    --accent-r: var(--purple-r);
    --accent-g: var(--purple-g);
    --accent-b: var(--purple-b);
}
.pink {
    --accent-hue: var(--pink-hue);
    --accent-saturation: var(--pink-saturation);
    --accent-lightness: var(--pink-lightness);
    --accent-r: var(--pink-r);
    --accent-g: var(--pink-g);
    --accent-b: var(--pink-b);
}


/*****************
 ***  2. BASE  ***
 *****************/

* {
    /**
     * Default text rendering in WebKit is smudgy and fuzzy. This renders the
     * text more sharply, making it more pleasing to read.
     */
    -webkit-font-smoothing: antialiased;
    /**
     * Same as the above, but Firefox-specific.
     */
    -moz-osx-font-smoothing: grayscale;
    /**
     * Way easier to have the default alignment be to the left, then selectively
     * opt-in center alignment when necessary. Otherwise, I'm defining text-align: left;
     * for damned near every text-based HTML element.
     */
    text-align: left;
    /**
     * 1.5 is too loose, ~1.2-1.45 is desired, depending on typeface.
     * Again, way easier to have the default line height be 1.45em and selectively
     * opting-out elements when necessary.
     */
    line-height: var(--body-line-height);
}
html {
    font-size: 14px;
    /* Many thanks to Craig Hockenberry https://furbo.org/2018/03/28/system-fonts-in-css/ */
    font-family: system-ui,
                 -apple-system,
                 BlinkMacSystemFont,
                 "Segoe UI",
                 "Roboto",
                 "Oxygen",
                 "Ubuntu",
                 "Cantarell",
                 "Fira Sans",
                 "Droid Sans",
                 "Helvetica Neue",
                 sans-serif;
    background-color: var(--background-color);
    color: var(--primary-foreground);
}
body,
main,
article {
    text-align: center;
}
main {
    max-width: 33em;
    margin: var(--gap2) auto;
    padding-bottom: var(--gap3);
    padding-left: 5%;
    padding-right: 5%;
    /**
     * Without this, text selections spill beyond the actual contents. Keep
     * selections tight, bound within the main content itself.
     */
    position: relative;
}
    @supports(padding: max(5%, env(safe-area-inset-left))) {
        main {
            padding-left: max(var(--gap), env(safe-area-inset-left));
            padding-right: max(var(--gap), env(safe-area-inset-right));
        }
    }


/********************
 ***  3. HEADERS  ***
 ********************/

/**
 * Following the 1.2 Minor Third type scale
 * http://type-scale.com
 */
h1 {
    font-size: 2.074em;
    font-weight: 900;
}
h2 {
    font-size: 1.728em;
    font-weight: 800;
}
h3 {
    font-size: 1.44em;
    font-weight: 700;
}
h4,
.admonition-title {
    font-size: 1.2em;
    font-weight: 600;
}
h5 {
    font-size: 1em;
    font-weight: 500;
}
h6,
.anchor {
    font-size: 0.833em;
    font-weight: 400;
}
h1, h2, h3, h4, h5, h6,
time,
small {
    line-height: var(--header-line-height);
    margin-top: var(--gap);
    margin-bottom: var(--half-gap);
}
time,
small {
    display: block;

    font-style: italic;
    font-weight: 600;
    font-size: 1rem;

    margin-top: 0;
    margin-bottom: 0.25em;

    color: var(--secondary-foreground);
}
    /**
     * While small is similar in style to time in nearly every way, small
     * _can_ be displayed either below or above the content it's providing
     * secondary text for, so applying a top margin.
     */
    small {
        margin-top: 0.25em;
    }


/******************
 ***  4. LISTS  ***
 ******************/

ol,
ul {
    margin-left: calc(var(--gap) + var(--half-gap));
    margin-bottom: var(--gap);
}
    li {
        margin-bottom: var(--half-gap);
    }
        li ol,
        li ul {
            margin-top: var(--half-gap);
            margin-bottom: 0;
        }
        li ol.bare,
        li ul.bare {
            margin-top: 0;
        }
ol {
    list-style-type: decimal;
}
    ol ol {
        list-style-type: upper-alpha;
    }
        ol ol ol {
            list-style-type: upper-roman;
        }
ul {
    list-style-type: disc;
}
    ul ul {
        list-style-type: none;
    }
    ul ul:not(.bare) li:before {
        content: "-";
        position: absolute;
        margin-left: -1em;
    }
        ul ul ul {
            list-style-type: circle;
        }
        ul ul ul:not(.bare) li:before {
            content: none;
            margin-left: 0;
        }
        ul ul ul ul {
            list-style-type: square
        }
/**
 * Lists with no list item styling and no padding on list items
 */
ul.bare,
ol.bare {
    list-style: none;
}
    ul.bare li,
    ol.bare li {
        margin: 0;
    }
/**
 * Lists with just no padding on list items
 */
ul.tight li,
ol.tight li,
ul.tight ul,
ol.tight ol {
    margin: 0;
}
/**
 * Emoji styling instead of "traditional" list item styling, and no padding on
 * list items.
 */
ul.emoji,
ol.emoji {
    margin-left: 0.25em !important;
    list-style-type: none;
}
/**
 * Table Of Contents: Equivalent to .tight
 */
.toc li,
.toc ul,
.toc ol {
    margin-top: 0;
    margin-bottom: 0;
}
/**
 * i.e. Checklists
 */
.task-list {
    list-style-type: none;
    margin-left: var(--half-gap);
}
    .task-list-item {
        text-indent: calc(0em - var(--gap));
        padding-left: var(--gap);
    }
    .task-list input {
        margin: 0;
        margin-right: 0.325em;
        height: 1em;
        width: 1em;
    }
/**
 * Definitions & Details
 */
dl,
details {
    margin-bottom: var(--gap);
}
/* The definition itself, its "header" or "title". */
dt {
    font-weight: 700;
}
dd p:last-child {
    margin-bottom: 0;
}
    /* Indent definition list contents like we would "normal" lists. */
    dl dd {
        margin-left: calc(var(--gap) + var(--half-gap));
    }


/*******************
 ***  5. TABLES  ***
 *******************/

table {
    width: auto;
    word-break: normal;
    word-break: keep-all;
    border-collapse: collapse;
    overflow-x: auto;
    margin-bottom: var(--gap);
}
thead {
    font-weight: bold;
    color: var(--primary-foreground);
    background: linear-gradient(
        to bottom,
        hsla(0, 0%, 0%, 0) 0%,
        hsla(0, 0%, 0%, 0.002) 8.1%,
        hsla(0, 0%, 0%, 0.007) 15.5%,
        hsla(0, 0%, 0%, 0.016) 22.5%,
        hsla(0, 0%, 0%, 0.026) 29%,
        hsla(0, 0%, 0%, 0.039) 35.3%,
        hsla(0, 0%, 0%, 0.053) 41.2%,
        hsla(0, 0%, 0%, 0.068) 47.1%,
        hsla(0, 0%, 0%, 0.082) 52.9%,
        hsla(0, 0%, 0%, 0.097) 58.8%,
        hsla(0, 0%, 0%, 0.111) 64.7%,
        hsla(0, 0%, 0%, 0.124) 71%,
        hsla(0, 0%, 0%, 0.134) 77.5%,
        hsla(0, 0%, 0%, 0.143) 84.5%,
        hsla(0, 0%, 0%, 0.148) 91.9%,
        hsla(0, 0%, 0%, 0.15) 100%
    );
}
    #dark thead {
        background: linear-gradient(
            to bottom,
            hsla(0, 0%, 50%, 0.25) 0%,
            hsla(0, 0%, 49.68%, 0.25) 8.1%,
            hsla(0, 0%, 48.77%, 0.25) 15.5%,
            hsla(0, 0%, 47.33%, 0.25) 22.5%,
            hsla(0, 0%, 45.4%, 0.25) 29%,
            hsla(0, 0%, 43.03%, 0.25) 35.3%,
            hsla(0, 0%, 40.25%, 0.25) 41.2%,
            hsla(0, 0%, 37.08%, 0.25) 47.1%,
            hsla(0, 0%, 33.54%, 0.25) 52.9%,
            hsla(0, 0%, 29.66%, 0.25) 58.8%,
            hsla(0, 0%, 25.46%, 0.25) 64.7%,
            hsla(0, 0%, 20.94%, 0.25) 71%,
            hsla(0, 0%, 16.12%, 0.25) 77.5%,
            hsla(0, 0%, 11.02%, 0.25) 84.5%,
            hsla(0, 0%, 5.64%, 0.25) 91.9%,
            hsla(0, 0%, 0%, 0.25) 100%
        );
    }
td,
th {
    padding-left: var(--gap);
    padding-right: var(--gap);
    padding-top: calc(var(--gap) / 8);
    padding-bottom: calc(var(--gap) / 8);
    border: 1px solid rgb(224, 224, 224);
}
    #dark td,
    #dark th {
        border-color: rgba(65, 65, 65);
    }
tbody tr:nth-child(even) {
    background-color: var(--table-washboard-background);
}


/********************************
 ***  6. TAGS & HIGHLIGHTING  ***
 ********************************/

mark {
    word-wrap: break-word;

    padding-top: 0.1em;
    padding-bottom: 0.1em;
    padding-left: 0.25em;
    padding-right: 0.25em;

    color: var(--primary-foreground);
}
mark.tag {
    display: inline-block;
    vertical-align: middle;

    font-style: normal;
    font-size: 0.53em;
    font-weight: 600;
    line-height: 1em;

    padding-top: 0.25em;
    padding-bottom: 0.25em;
    padding-left: 0.75em;
    padding-right: 0.75em;
    margin-top: -2px;
    margin-left: 0.25em;
    margin-right: 0.25em;

    color: rgb(255, 255, 255);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.03), 0 2px 10px 0 rgba(0, 0, 0, 0.03);
    border-radius: 1em;
}
mark.tag.gray,
mark.tag.grey,
mark.tag.graphite,
#dark mark.tag.gray,
#dark mark.tag.grey,
#dark mark.tag.graphite {
    background-image: linear-gradient(to bottom right, hsl(var(--accent-hue), 5%, 60%) 38.66%, hsl(calc(var(--accent-hue) + 3), 5%, 40%));
    box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--accent-hue), 5%, var(--accent-lightness), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--accent-hue), 5%, var(--accent-lightness), 0.2);
}
mark.blue {
    background-image: linear-gradient(to right, hsla(var(--blue-hue), 100%, calc(var(--blue-lightness) + 15%), 0.99) 38.66%, hsla(calc(var(--blue-hue) + 3), 100%, calc(var(--blue-lightness) + 20%), 0.99));
}
mark.tag.blue {
    background-image: linear-gradient(to bottom right, hsl(var(--blue-hue), var(--blue-saturation), calc(var(--blue-lightness) + 10%)) 38.66%, hsl(calc(var(--blue-hue) + 3), var(--blue-saturation), calc(var(--blue-lightness) - 10%)));
    box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--blue-color), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--blue-color), 0.2);
}
    #dark mark.blue {
        background-image: linear-gradient(to right, hsla(var(--blue-hue), 100%, calc(var(--blue-lightness) - 25%), 0.99) 38.66%, hsla(calc(var(--blue-hue) + 3), 100%, calc(var(--blue-lightness) - 20%), 0.99));
    }
    #dark mark.tag.blue {
        background-image: linear-gradient(to bottom right, hsl(var(--blue-hue), var(--blue-saturation), calc(var(--blue-lightness) + 10%)) 38.66%, hsl(calc(var(--blue-hue) + 3), var(--blue-saturation), calc(var(--blue-lightness) - 10%)));
        box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--blue-color), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--blue-color), 0.2);
    }
mark.red {
    background-image: linear-gradient(to right, hsla(var(--red-hue), 100%, calc(var(--red-lightness) + 15%), 0.99) 38.66%, hsla(calc(var(--red-hue) + 3), 100%, calc(var(--red-lightness) + 20%), 0.99));
}
mark.tag.red {
    background-image: linear-gradient(to bottom right, hsl(var(--red-hue), var(--red-saturation), calc(var(--red-lightness) + 10%)) 38.66%, hsl(calc(var(--red-hue) + 3), var(--red-saturation), calc(var(--red-lightness) - 10%)));
    box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--red-color), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--red-color), 0.2);
}
    #dark mark.red {
        background-image: linear-gradient(to right, hsla(var(--red-hue), 100%, calc(var(--red-lightness) - 25%), 0.99) 38.66%, hsla(calc(var(--red-hue) + 3), 100%, calc(var(--red-lightness) - 20%), 0.99));
    }
    #dark mark.tag.red {
        background-image: linear-gradient(to bottom right, hsl(var(--red-hue), var(--red-saturation), calc(var(--red-lightness) + 10%)) 38.66%, hsl(calc(var(--red-hue) + 3), var(--red-saturation), calc(var(--red-lightness) - 10%)));
        box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--red-color), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--red-color), 0.2);
    }
mark.orange {
    background-image: linear-gradient(to right, hsla(var(--orange-hue), 100%, calc(var(--orange-lightness) + 15%), 0.99) 38.66%, hsla(calc(var(--orange-hue) + 3), 100%, calc(var(--orange-lightness) + 20%), 0.99));
}
mark.tag.orange {
    background-image: linear-gradient(to bottom right, hsl(var(--orange-hue), var(--orange-saturation), calc(var(--orange-lightness) + 10%)) 38.66%, hsl(calc(var(--orange-hue) + 3), var(--orange-saturation), calc(var(--orange-lightness) - 10%)));
    box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--orange-color), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--orange-color), 0.2);
}
    #dark mark.orange {
        background-image: linear-gradient(to right, hsla(var(--orange-hue), 100%, calc(var(--orange-lightness) - 25%), 0.99) 38.66%, hsla(calc(var(--orange-hue) + 3), 100%, calc(var(--orange-lightness) - 20%), 0.99));
    }
    #dark mark.tag.orange {
        background-image: linear-gradient(to bottom right, hsl(var(--orange-hue), var(--orange-saturation), calc(var(--orange-lightness) + 10%)) 38.66%, hsl(calc(var(--orange-hue) + 3), var(--orange-saturation), calc(var(--orange-lightness) - 10%)));
        box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--orange-color), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--orange-color), 0.2);
    }
mark,
mark.yellow {
    background: unset;
    background-image: linear-gradient(to right, hsla(var(--yellow-hue), 100%, calc(var(--yellow-lightness) + 15%), 0.99) 38.66%, hsla(calc(var(--yellow-hue) + 3), 100%, calc(var(--yellow-lightness) + 20%), 0.99));
}
mark.tag,
mark.tag.yellow {
    background-image: linear-gradient(to bottom right, hsl(var(--yellow-hue), var(--yellow-saturation), calc(var(--yellow-lightness) + 10%)) 38.66%, hsl(calc(var(--yellow-hue) + 3), var(--yellow-saturation), calc(var(--yellow-lightness) - 10%)));
    box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--yellow-color), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--yellow-color), 0.2);
}
    #dark mark,
    #dark mark.yellow {
        background: unset;
        background-image: linear-gradient(to right, hsla(var(--yellow-hue), 100%, calc(var(--yellow-lightness) - 25%), 0.99) 38.66%, hsla(calc(var(--yellow-hue) + 3), 100%, calc(var(--yellow-lightness) - 20%), 0.99));
    }
    #dark mark.tag.yellow {
        background-image: linear-gradient(to bottom right, hsl(var(--yellow-hue), var(--yellow-saturation), calc(var(--yellow-lightness) + 10%)) 38.66%, hsl(calc(var(--yellow-hue) + 3), var(--yellow-saturation), calc(var(--yellow-lightness) - 10%)));
        box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--yellow-color), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--yellow-color), 0.2);
    }
mark.green {
    background-image: linear-gradient(to right, hsla(var(--green-hue), 100%, calc(var(--green-lightness) + 15%), 0.99) 38.66%, hsla(calc(var(--green-hue) + 3), 100%, calc(var(--green-lightness) + 20%), 0.99));
}
mark.tag.green {
    background-image: linear-gradient(to bottom right, hsl(var(--green-hue), var(--green-saturation), calc(var(--green-lightness) + 10%)) 38.66%, hsl(calc(var(--green-hue) + 3), var(--green-saturation), calc(var(--green-lightness) - 10%)));
    box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--green-color), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--green-color), 0.2);
}
    #dark mark.green {
        background-image: linear-gradient(to right, hsla(var(--green-hue), 100%, calc(var(--green-lightness) - 25%), 0.99) 38.66%, hsla(calc(var(--green-hue) + 3), 100%, calc(var(--green-lightness) - 20%), 0.99));
    }
    #dark mark.tag.green {
        background-image: linear-gradient(to bottom right, hsl(var(--green-hue), var(--green-saturation), calc(var(--green-lightness) + 10%)) 38.66%, hsl(calc(var(--green-hue) + 3), var(--green-saturation), calc(var(--green-lightness) - 10%)));
        box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--green-color), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--green-color), 0.2);
    }
mark.purple {
    background-image: linear-gradient(to right, hsla(var(--purple-hue), 100%, calc(var(--purple-lightness) + 15%), 0.99) 38.66%, hsla(calc(var(--purple-hue) + 3), 100%, calc(var(--purple-lightness) + 20%), 0.99));
}
mark.tag.purple {
    background-image: linear-gradient(to bottom right, hsl(var(--purple-hue), var(--purple-saturation), calc(var(--purple-lightness) + 10%)) 38.66%, hsl(calc(var(--purple-hue) + 3), var(--purple-saturation), calc(var(--purple-lightness) - 10%)));
    box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--purple-color), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--purple-color), 0.2);
}
    #dark mark.purple {
        background-image: linear-gradient(to right, hsla(var(--purple-hue), 100%, calc(var(--purple-lightness) - 25%), 0.99) 38.66%, hsla(calc(var(--purple-hue) + 3), 100%, calc(var(--purple-lightness) - 20%), 0.99));
    }
    #dark mark.tag.purple {
        background-image: linear-gradient(to bottom right, hsl(var(--purple-hue), var(--purple-saturation), calc(var(--purple-lightness) + 10%)) 38.66%, hsl(calc(var(--purple-hue) + 3), var(--purple-saturation), calc(var(--purple-lightness) - 10%)));
        box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--purple-color), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--purple-color), 0.2);
    }
mark.pink {
    background-image: linear-gradient(to right, hsla(var(--pink-hue), calc(var(--pink-saturation) + 10%), calc(var(--pink-lightness) + 15%), 0.99) 38.66%, hsla(calc(var(--pink-hue) + 3), calc(var(--pink-saturation) + 10%), calc(var(--pink-lightness) + 20%), 0.99));
}
mark.tag.pink {
    background-image: linear-gradient(to bottom right, hsl(var(--pink-hue), var(--pink-saturation), calc(var(--pink-lightness) + 10%)) 38.66%, hsl(calc(var(--pink-hue) + 3), var(--pink-saturation), calc(var(--pink-lightness) - 10%)));
    box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--pink-color), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--pink-color), 0.2);
}
    #dark mark.pink {
        background-image: linear-gradient(to right, hsla(var(--pink-hue), 100%, calc(var(--pink-lightness) - 25%), 0.99) 38.66%, hsla(calc(var(--pink-hue) + 3), 100%, calc(var(--pink-lightness) - 20%), 0.99));
    }
    #dark mark.tag.pink {
        background-image: linear-gradient(to bottom right, hsl(var(--pink-hue), var(--pink-saturation), calc(var(--pink-lightness) + 10%)) 38.66%, hsl(calc(var(--pink-hue) + 3), var(--pink-saturation), calc(var(--pink-lightness) - 10%)));
        box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--pink-color), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--pink-color), 0.2);
    }


/***********************************
 ***  7. TYPOGRAPHIC FLOURISHES  ***
 ***********************************/

/**
 * Supertext, e.g. Januarth 15^th
 */
sup { 
    vertical-align: super;
    font-size: smaller;
}
/**
 * Abbreviations (i.e. Acronyms) are more pleasing if they're distinguished
 * from regular prose with small caps.
 */
abbr,
.small-caps {
    -moz-font-feature-settings: "c2sc", "smcp";
    -ms-font-feature-settings: "c2sc", "smcp";
    -webkit-font-feature-settings: "c2sc", "smcp";
    font-feature-settings: "c2sc", "smcp";
    font-variant-caps: all-small-caps;
}
/**
 * Deletions, i.e. ~slashed through~ text.
 * Small is HTML "weak"/secondary text.
 */
del, del code,
small,
.weak {
    color: var(--secondary-foreground);
}
.underline {
    text-decoration: underline;
}
.bold {
    font-weight: bold;
}
/**
 * Accent colored text selections
 */
::selection {
    background: hsla(var(--accent-color), 0.99);
    background: color(var(--accent-color-p3) / 99%);
    color: white;
}
    #dark ::selection {
        background: hsla(var(--accent-color), 0.85);
        background: color(var(--accent-color-p3) / 85%);
        color: white;
    }
/**
 * There are some custom UI components that text selections aren't really
 * appropriate for. Disable selections for those rare cases to match behavior
 * of their "native" counterparts.
 */
.no-select,
.button {
    -webkit-touch-callout: none;
      -webkit-user-select: none;
       -khtml-user-select: none;
         -moz-user-select: none;
          -ms-user-select: none;
              user-select: none;
}


/************************
 ***  8. ADMONITIONS  ***
 ************************/


.admonition {
    padding: 1em;
    margin-bottom: var(--gap);

    border-top: 1px solid hsla(var(--accent-hue), var(--widget-saturation), var(--widget-lightness), 0.15);
    border-bottom: 1px solid hsla(var(--accent-hue), var(--widget-saturation), var(--widget-lightness), 0.15);
    border-left: 0.5em solid hsl(var(--accent-hue), var(--widget-saturation), calc(var(--widget-lightness) + var(--admonition-left-border-lightness-adjustment)));
    border-right: 1px solid hsla(var(--accent-hue), var(--widget-saturation), var(--widget-lightness), 0.15);
    border-radius: 0.25em;

    color: var(--primary-foreground);
    background-color: var(--widget-background);
    box-shadow: var(--default-admonition-shadow);
}
/**
 * The ".admonition-title a" declaration is intentional, otherwise if the
 * title of the admonition is a link (like with Tweet Admonitions!), then the
 * default line height of <a> elements is applied, and the title gets out of
 * alignment.
 */
.admonition-title,
.admonition-title a {
    line-height: var(--header-line-height);
    margin-top: 0;
    margin-bottom: var(--half-gap);
}
/**
 * Since the admonition itself is padded, if the content's last child's
 * margin-bottom is still respected, it will artifically extend the
 * admonition's bottom padding.
 */
.admonition *:last-child {
    margin-bottom: 0;
}
.admonition .admonition-title:before,
.admonition > p:first-child:not(.admonition-title):before {
    font-weight: 700;
}
/**
 * The icon font size for Admonitions needs to be slightly shrunk (especially
 * if applied to admonition-titles), looks ridiculously large otherwise.
 */
.admonition .admonition-title:before {
    font-size: 0.833em;
}
/**
 * Simple, Gray "Asides" (No icon and heavy left border)
 */
.admonition.aside {
    border-left: 1px solid hsla(var(--accent-hue), var(--widget-saturation), var(--widget-lightness), 0.15);
}
    /**
     * Disable the icon
     */
    .admonition.aside .admonition-title:before,
    .admonition.aside > p:first-child:before {
        content: none;
    }
/**
 * [i]: Default Gray Info Admonition
 */
.admonition > p:first-child:before,
.admonition .admonition-title:before {
    content: "i";
    position: absolute;
    color: white;
    border-radius: 25%;
    height: var(--body-line-height);
    width: 0.86em;
    padding-left: 0.625em;
    margin-left: -2em;
    background-color: hsl(var(--accent-hue), var(--widget-saturation), calc(var(--widget-lightness) + var(--admonition-left-border-lightness-adjustment)));
}
/**
 * [i]: Green Info Admonition
 */
.admonition.success,
.admonition.green {
    background-color: hsla(var(--green-color), var(--highlight-background-opacity));
    background-color: color(var(--green-color-p3) / var(--highlight-background-opacity));
    border-left-color: hsl(var(--green-color));
    border-left-color: color(var(--green-color-p3));
    border-right-color: hsla(var(--green-color), var(--highlight-background-opacity));
    border-bottom-color: hsla(var(--green-color), var(--highlight-background-opacity));
    border-top-color: hsla(var(--green-color), var(--highlight-background-opacity));
    box-shadow: 0em 1em 2.75em hsla(var(--green-color), 0.1), 0em 0.22em 0.6em hsla(var(--green-color), 0.05);
}
    .admonition.success .admonition-title:before,
    .admonition.success p:first-child:before,
    .admonition.green .admonition-title:before,
    .admonition.green p:first-child:before {
        background-color: hsl(var(--green-color));
        background-color: color(var(--green-color-p3));
    }
    .admonition.success a,
    .admonition.green a {
        color: hsl(var(--green-color));
        color: color(var(--green-color-p3));
    }
    .admonition.success a:hover,
    .admonition.green a:hover {
        background-color: hsla(var(--green-color), var(--highlight-background-opacity));
        background-color: color(var(--green-color-p3) / var(--highlight-background-opacity));
    }
/**
 * [!]: Red Danger Admonition
 */
.admonition.error,
.admonition.danger,
.admonition.warning,
.admonition.red {
    background-color: hsla(var(--red-color), var(--highlight-background-opacity));
    background-color: color(var(--red-color-p3) / var(--highlight-background-opacity));
    border-left-color: hsl(var(--red-color));
    border-left-color: color(var(--red-color-p3));
    border-right-color: hsla(var(--red-color), var(--highlight-background-opacity));
    border-bottom-color: hsla(var(--red-color), var(--highlight-background-opacity));
    border-top-color: hsla(var(--red-color), var(--highlight-background-opacity));
    box-shadow: 0em 1em 2.75em hsla(var(--red-color), 0.1), 0em 0.22em 0.6em hsla(var(--red-color), 0.05);
}
    .admonition.error .admonition-title:before,
    .admonition.danger .admonition-title:before,
    .admonition.warning .admonition-title:before,
    .admonition.red .admonition-title:before,
    .admonition.error > p:first-child:before,
    .admonition.danger > p:first-child:before,
    .admonition.warning > p:first-child:before,
    .admonition.red > p:first-child:before {
        content: "!";
        padding-left: 0.6em;
        background-color: hsl(var(--red-color));
        background-color: color(var(--red-color-p3));
    }
    .admonition.error a,
    .admonition.danger a,
    .admonition.warning a,
    .admonition.red a {
        color: hsl(var(--red-color));
        color: color(var(--red-color-p3));
    }
    .admonition.error a:hover,
    .admonition.danger a:hover,
    .admonition.warning a:hover,
    .admonition.red a:hover {
        background-color: hsla(var(--red-color), var(--highlight-background-opacity));
        background-color: color(var(--red-color-p3) / var(--highlight-background-opacity));
    }
/**
 * [?]/[i]: Blue Question and Info Admonitions
 */
.admonition.question,
.admonition.hint,
.admonition.note,
.admonition.info,
.admonition.tip,
.admonition.example,
.admonition.blue {
    background-color: hsla(var(--blue-color), var(--highlight-background-opacity));
    background-color: color(var(--blue-color-p3) / var(--highlight-background-opacity));
    border-left-color: hsl(var(--blue-color));
    border-left-color: color(var(--blue-color-p3));
    border-right-color: hsla(var(--blue-color), var(--highlight-background-opacity));
    border-bottom-color: hsla(var(--blue-color), var(--highlight-background-opacity));
    border-top-color: hsla(var(--blue-color), var(--highlight-background-opacity));
    box-shadow: 0em 1em 2.75em hsla(var(--blue-color), 0.1), 0em 0.22em 0.6em hsla(var(--blue-color), 0.05);
}
    .admonition.question .admonition-title:before,
    .admonition.question > p:first-child:before {
        content: "?";
        width: 0.975em;
        padding-left: 0.475em;
    }
    .admonition.question .admonition-title:before,
    .admonition.hint .admonition-title:before,
    .admonition.note .admonition-title:before,
    .admonition.info .admonition-title:before,
    .admonition.tip .admonition-title:before,
    .admonition.example .admonition-title:before,
    .admonition.blue .admonition-title:before,
    .admonition.question > p:first-child:before,
    .admonition.hint > p:first-child:before,
    .admonition.note > p:first-child:before,
    .admonition.info > p:first-child:before,
    .admonition.tip > p:first-child:before,
    .admonition.example > p:first-child:before,
    .admonition.blue > p:first-child:before {
        background-color: hsl(var(--blue-color));
        background-color: color(var(--blue-color-p3));
    }
    .admonition.question a,
    .admonition.hint a,
    .admonition.note a,
    .admonition.info a,
    .admonition.tip a,
    .admonition.example a,
    .admonition.blue a {
        color: hsl(var(--blue-color));
        color: color(var(--blue-color-p3));
    }
    .admonition.question a:hover,
    .admonition.hint a:hover,
    .admonition.note a:hover,
    .admonition.info a:hover,
    .admonition.tip a:hover,
    .admonition.example a:hover,
    .admonition.blue a:hover {
        background-color: hsla(var(--blue-color), var(--highlight-background-opacity));
        background-color: color(var(--blue-color-p3) / var(--highlight-background-opacity));
    }
/**
 * [â˜…]/[i]: Yellow Star & Info Admonitions
 */
.admonition.update,
.admonition.yellow,
.admonition.star {
    background-color: hsla(var(--yellow-color), var(--highlight-background-opacity));
    background-color: color(var(--yellow-color-p3) / var(--highlight-background-opacity));
    border-left-color: hsl(var(--yellow-color));
    border-left-color: color(var(--yellow-color-p3));
    /**
     * The border vanishes with the yellow access, but only in dark mode. Tone
     * the opacity slightly up in light only.
     */
    border-right-color: hsla(var(--yellow-color), calc(var(--highlight-background-opacity) + 0.1));
    border-bottom-color: hsla(var(--yellow-color), calc(var(--highlight-background-opacity) + 0.1));
    border-top-color: hsla(var(--yellow-color), calc(var(--highlight-background-opacity) + 0.1));
    box-shadow: 0em 1em 2.75em hsla(var(--yellow-color), 0.1), 0em 0.22em 0.6em hsla(var(--yellow-color), 0.05);
}
    /**
     * Reapply the "normal" border settings, in dark mode the normal yellow border shows up perfectly fine. 
     */
    #dark .admonition.update,
    #dark .admonition.yellow,
    #dark .admonition.star {
        border-right-color: hsla(var(--yellow-color), var(--highlight-background-opacity));
        border-bottom-color: hsla(var(--yellow-color), var(--highlight-background-opacity));
        border-top-color: hsla(var(--yellow-color), var(--highlight-background-opacity));
    }
    /**
     * That THICC left boarder is just too much in dark mode for the yellow access, specifically.
     * Tone that down ever so slightly...
     */
    #dark .admonition.update,
    #dark .admonition.yellow,
    #dark .admonition.star {
        border-left-color: hsl(var(--yellow-hue), var(--yellow-saturation), calc(var(--yellow-lightness) - 7%));
        border-left-color: color(display-p3 0.90196078 0.74901961 0);
    }
    #dark .admonition.update .admonition-title:before,
    #dark .admonition.update > p:first-child:before,
    #dark .admonition.yellow .admonition-title:before,
    #dark .admonition.yellow > p:first-child:before,
    #dark .admonition.star .admonition-title:before,
    #dark .admonition.star > p:first-child:before {
        background-color: hsl(var(--yellow-hue), var(--yellow-saturation), calc(var(--yellow-lightness) - 7%));
        background-color: color(display-p3 0.90196078 0.74901961 0);
    }
    .admonition.star > p:first-child:before,
    .admonition.star .admonition-title:before {
        position: absolute;
        content: 'â˜…';
        width: 0.875em;
        padding-left: 0.2175em;
        padding-right: 0.3575em;
        margin-left: -1.975em;
    }
    .admonition.update .admonition-title:before,
    .admonition.update > p:first-child:before,
    .admonition.yellow .admonition-title:before,
    .admonition.yellow > p:first-child:before,
    .admonition.star .admonition-title:before,
    .admonition.star > p:first-child:before {
        background-color: hsl(var(--yellow-color));
        background-color: color(var(--yellow-color-p3));
    }
    .admonition.update a,
    .admonition.yellow a,
    .admonition.star a {
        color: hsl(var(--yellow-color));
        color: color(var(--yellow-color-p3));
    }
    .admonition.update a:hover,
    .admonition.yellow a:hover,
    .admonition.star a:hover {
        /**
         * TODO Double check in dark mode after accents is dead
         */
        background-color: hsla(var(--yellow-color), var(--highlight-background-opacity));
        background-color: color(var(--yellow-color-p3) / var(--highlight-background-opacity));
    }
/**
 * [ðŸ¦]: Teal Twitter Admonitions
 */
.admonition.tweet {
    border-left-color: hsl(203, 89%, 53%);
    border-right-color: hsla(203, 89%, 53%, 0.15);
    border-top-color: hsla(203, 89%, 53%, 0.15);
    border-bottom-color: hsla(203, 89%, 53%, 0.15);

    background-color: hsla(203, 89%, 53%, 0.1);
    box-shadow: 0em 1em 2.75em hsla(203, 89%, 53%, 0.1), 0em 0.22em 0.6em hsla(203, 89%, 53%, 0.05);
}
    #dark .admonition.tweet {
        background-color: hsla(203, 89%, 53%, 0.15);
        box-shadow: 0em 1em 2.75em hsla(203, 89%, 53%, 0.1), 0em 0.22em 0.6em hsla(203, 89%, 53%, 0.05);
    }
.admonition.tweet .admonition-title:before,
.admonition.tweet > p:first-child:before {
    content: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMjUwIDI1MCcgdmVyc2lvbj0nMS4xJyB4bWxucz0n aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8v d3d3LnczLm9yZy8xOTk5L3hsaW5rJz4gPGcgc3Ryb2tlPSdub25lJyBzdHJva2Ut d2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCc+PHBhdGgg ZD0nTTc4LjYyLDI0OS41OSBDMTcyLjk2LDI0OS41OSAyMjQuNTYsMTcxLjQzIDIy NC41NiwxMDMuNjUgQzIyNC41NiwxMDEuNDMgMjI0LjU2LDk5LjIyIDIyNC40MSw5 Ny4wMiBDMjM0LjQ0ODMxNCw4OS43NTkxMDg2IDI0My4xMTM1NTUsODAuNzY4Nzk0 IDI1MCw3MC40NyBDMjQwLjYzODc5MSw3NC42MTgwMTc3IDIzMC43MDgyOTMsNzcu MzM4Mjg2NSAyMjAuNTQsNzguNTQgQzIzMS4yNDc0NCw3Mi4xMjk4MjA2IDIzOS4y NjEyMzUsNjIuMDQ3NzE5OSAyNDMuMDksNTAuMTcgQzIzMy4wMjE1NzUsNTYuMTQ0 NTUzMiAyMjIuMDA2NDYxLDYwLjM1NTEyMDIgMjEwLjUyLDYyLjYyIEMxOTQuNjIw ODI4LDQ1LjcxMzk0MjggMTY5LjM1NzE5NCw0MS41NzYxMjU4IDE0OC44OTU0OTMs NTIuNTI2Nzk5MyBDMTI4LjQzMzc5Miw2My40Nzc0NzI3IDExNy44NjI3NSw4Ni43 OTMyNTczIDEyMy4xMSwxMDkuNCBDODEuODY4OTU3NCwxMDcuMzMyNDk1IDQzLjQ0 NDc1NzgsODcuODUzMjMyNyAxNy40LDU1LjgxIEMzLjc4NjIyNzU2LDc5LjI0NjQ0 NzMgMTAuNzM5ODc4OCwxMDkuMjI4NTk1IDMzLjI4LDEyNC4yOCBDMjUuMTE3NDEy LDEyNC4wMzgwNzUgMTcuMTMyNzkzNywxMjEuODM2MTMyIDEwLDExNy44NiBDMTAs MTE4LjA3IDEwLDExOC4yOSAxMCwxMTguNTEgQzEwLjAwNjY4MTMsMTQyLjkyNTkz IDI3LjIxNzUxNDksMTYzLjk1NTM1MiA1MS4xNSwxNjguNzkgQzQzLjU5ODY5Niwx NzAuODQ5NCAzNS42NzU4MDU5LDE3MS4xNTA0NDMgMjcuOTksMTY5LjY3IEMzNC43 MDk0NzkzLDE5MC41NjQyMjggNTMuOTY1NzQ1NiwyMDQuODc3ODM5IDc1LjkxLDIw NS4yOSBDNTcuNzQ3MzUwNCwyMTkuNTY0MzE5IDM1LjMxMDU5NTEsMjI3LjMxMzI3 NyAxMi4yMSwyMjcuMjkgQzguMTI5MDM1NjksMjI3LjI4MjE2NSA0LjA1MjA0MDY1 LDIyNy4wMzUwNzUgMCwyMjYuNTUgQzIzLjQ1NjM1OTUsMjQxLjYwMjc2NiA1MC43 NDkxMzQsMjQ5LjU4NzE2OSA3OC42MiwyNDkuNTUnIGZpbGw9JyNGRkZGRkYnIGZp bGwtcnVsZT0nbm9uemVybyc+PC9wYXRoPjwvZz48L3N2Zz4=");
    position: absolute;
    border-radius: 25%;
    height: var(--body-line-height);
    width: 0.875em;
    padding-left: 0.3125em;
    padding-right: 0.3125em;
    margin-left: -2em;
    background-color: #1DA1F2;
}
    .admonition.tweet g {
        fill: white;
    }
.admonition.tweet a,
#dark .admonition.tweet a {
    color: #1DA1F2;
}
.admonition.tweet a:hover {
    background-color: hsla(203, 89%, 53%, 0.1);
}
    #dark .admonition.tweet a:hover {
        background-color: hsla(203, 89%, 53%, 0.15);
    }


/********************
 ***  9. MENUBAR  ***
 ********************/

/**
 * The bar itself.
 */
#menubar {
    position: absolute;
    z-index: 10000;

    font-size: 1.3em;
    font-weight: 600;

    top: 0;
    width: 100%;
    text-align: center;

    border-bottom: 1px solid var(--widget-border);
    background-color: var(--widget-background);
    box-shadow: var(--inactive-shadow);
}
    @supports (padding-left: env(safe-area-inset-left)) {
        #menubar {
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
        }
    }
    @supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or (backdrop-filter: saturate(180%) blur(20px))) {
        #menubar {
            -webkit-backdrop-filter: saturate(180%) blur(20px);
            backdrop-filter: saturate(180%) blur(20px);
        }
    }
    /**
     * For pages that request the design.oled=true property, pure blacks must
     * be applied (regardless of browser or site's theme setting). This must
     * too be reflected with a pure black menubar.
     */
    html.oled #menubar {
        background-color: rgba(0, 0, 0, 0.95);
        border-color: rgba(0, 0, 0, 0.2);
    }
    @supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or (backdrop-filter: saturate(180%) blur(20px))) {
        html.oled #menubar {
            background-color: rgba(0, 0, 0, 0.5);
        }
    }
/**
 * On small devices, the menu bar floats with fixed positioning above the
 * page. When this happens, the content needs a spacer so it "starts"
 * comfortably away from the floating menu. Otherwise, the content suddenly
 * "snaps" underneath the menu bar when it transitions from absolute to fixed
 * positioning upon scrolling.
 */
#menubar-height-offset {
    height: 10.9em;
}
/**
 * Part of the "magic" that core.js depends on for it to switch the menu from
 * a relative to floating element when the page scrolls to the designated
 * spot.
 */
#menubar.float {
    position: fixed;
    transform: translate(0, -5.7em);
}
#settings-popup.float {
    position: fixed;
    top: 3.85em;
}
/**
 * If the menu & friends are floating and the core script added the hint to
 * hide when scrolling on small screens into the DOM, we will respect that
 * hint here.
 *
 * "Why two seperate hints, one to hide if on small screens, and another if
 * scrolling on larger screens?" future me's asking. That's because the menu
 * bar on small screens vs. anything larger has entirely different heights, so
 * the amount a user should scroll before we consider hiding it must therefore
 * also be different in order to feel natural for both sizes.
 *
 * "Why not have the core script detect page size and have _it_ handle knowing
 * at what scroll position to slap a single "hide" hint in?" I again here
 * future me asking. What if the user changes the page size without scrolling?
 * CSS of course handles this with responsive design, but the core script
 * would be clueless it's happening unless I add a listener for it, and
 * honestly, at that point it's easier and arguably more clear to have two
 * different "hints" to handle it CSS-side.
 */
#menubar.float.hide-when-scrolling-on-small-screens,
#settings-popup.float.hide-when-scrolling-on-small-screens {
    opacity: 0;
    pointer-events: none;
}
#menubar a {
    color: var(--heavy-secondary-foreground);
}
    #menubar .active,
    #menubar a:hover {
        color: hsl(var(--accent-color));
        color: color(var(--accent-color-p3));
    }
    #menubar a:hover {
        background-color: unset !important;
    }
/**
 * The Happy iMac & signature
 * #logo is the element wrapping both components.
 */
#logo {
    margin-top: 1.414em;
    display: inline-block;
}
#imac {
    transition: opacity 150ms ease-out, transform 150ms ease-out;
    display: inline-block;
    vertical-align: top;
    width: 48px;
    height: 48px;
}
    .imac-background-color {
        fill: white;
        transition: background-color 150ms cubic-bezier(0.165, 0.165, 0.44, 0.44);
    }
    .imac-line-color {
        fill: var(--light-heavy-secondary-foreground);
    }
    .opened-eyes {
        opacity: 1;
    }
    .closed-eyes,
    .sunglasses {
        opacity: 0;
    }
        #logo:hover .opened-eyes {
            opacity: 0;
        }
        #logo:hover .closed-eyes {
            opacity: 1;
        }
    .smirk,
    #dark .opened-eyes {
        opacity: 0;
    }
    #dark .sunglasses {
        opacity: 1;
    }
        #dark #logo:hover .closed-eyes {
            opacity: 0;
        }
        #dark #logo:hover .smirk {
            opacity: 1;
        }
    /**
     * The rainbow backsplash on hover
     */
    #logo:after {
        position: absolute;
        opacity: 0;
        transform: scale(0.5);
        transition: opacity 150ms ease-out, transform 150ms ease-out;

        background-size: contain;
        background-image: url("/images/light-rainbow-watercolor.png");
        background-repeat: no-repeat;
        content: "";
        
        z-index: -1;
        top: 0.75rem;
        left: calc(50% - 8.5rem);
        height: 5.5rem;
        width: 5.5rem;
    }
    #logo:hover:after {
        opacity: 1;
        transform: scale(1);
    }
#signature {
    height: 70px;
}
    #signature path {
        fill: var(--heavy-secondary-foreground);
    }
#logo:hover #signature path,
#signature.active path {
    fill: hsl(var(--accent-color));
    fill: color(var(--accent-color-p3));
}
/**
 * The bar's central "menu" contents: Articles, Projects, Contact, and a Settings Button
 */
#menubar menu {
    line-height: var(--header-line-height);
    margin-top: var(--gap);
    margin-bottom: var(--half-gap);
    margin: 0;
    text-align: center;
}
    #menubar menu li {
        display: inline-block;
        text-align: center;
        margin: 0;
        padding-bottom: 0.5em;
        padding-top: 0.725em;
        min-width: 24vw;
    }
    #settings-button-wrapper {
        height: 1.5em;
    }
        #settings-button-wrapper button {
            width: 4.5em;
            position: relative;
            top: -0.1em;
            margin: 0;
            vertical-align: middle;
            line-height: 1rem;
            padding-top: 0.2em;
            padding-bottom: 0.2em;
        }
        #settings-button-wrapper.active button {
            -webkit-transition-delay: 0.1s;
            transition-delay: 0.1s;
        }
        #settings-button-wrapper button svg {
            height: 1.3rem;
        }
/**
 * The settings popup modal where theme & accent color can be adjusted.
 */
#settings-popup {
    font-weight: 600;
    color: var(--heavy-secondary-foreground);

    opacity: 0; /* Hidden unless shown by clicking #settings-button-wrapper */
    padding-top: 0.8125em;
    padding-bottom: 0.8125em;
    padding-left: var(--gap);
    padding-right: var(--gap);
    border: 1px solid var(--widget-border);
    background-color: var(--widget-background);
    box-shadow: var(--active-shadow);
    border-radius: var(--half-gap);

    transition-property: opacity, transform, background-color, border;
    transition-duration: 0.25s, 0.25s, 0.2s, 0.2s;
    transition-timing-function: ease, ease, cubic-bezier(0.28, 0.11, 0.32, 0), cubic-bezier(0.28, 0.11, 0.32, 0);
    transform: scale(0.1) translateZ(0);
    transform-origin: 95% 0;

    float: right;
    position: absolute;
    text-align: center;
    left: 85%;
    margin-left: -252px;
    top: 11.25em;
    z-index: 10000;
}
    #settings-popup.show {
        transform: scale(1) translateZ(0);
        opacity: 1;
    }
    @supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or (backdrop-filter: saturate(180%) blur(20px))) {
        #settings-popup {
            -webkit-backdrop-filter: saturate(180%) blur(20px);
            backdrop-filter: saturate(180%) blur(20px);
        }
    }
/**
 * A "group" is the label and the controls associated to the label
 * in the settings popup.
 */
#settings-popup .group {
    margin-bottom: var(--half-gap);
    margin-top: var(--half-gap);
}
    .group ~ .group {
        margin-top: var(--gap) !important;
    }
/**
 * "Wells" are a kind of visual radio box for switching things like theme and
 * accent colors.
 */
.wells {
    margin-bottom: 0;
    margin-left: 0.25em;
    display: inline-block;
    vertical-align: middle;
    line-height: 1em;
}
    .wells li {
        display: inline-block;
        margin-left: 0.15em;
        margin-right: 0.15em;
        margin-bottom: 0;
    }
.well {
    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1), 0 4px 8px 0 rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(0, 0, 0, 0.1);
    cursor: pointer;
    width: 1em;
    height: 1em;
    border-radius: 50%;
}
    .well.appearance {
        border-color: #E5E5E5;
        border-radius: 0.25em !important;
    }
        .well.auto {
            background-image: linear-gradient(-45deg, rgb(36, 36, 36) 50%, white 50%);
        }
        .well.light {
            background-color: white;
        }
        .well.dark {
            background-color: rgb(36, 36, 36);
        }
    .well.blue {
        background-color: hsl(var(--blue-color));
        background-color: color(var(--blue-color-p3));
    }
        .well.active,
        .blue .well.active {
            box-shadow: 0 0em 0.5em 0em hsl(var(--blue-color));
        }
    .well.red {
        background-color: hsl(var(--red-color));
        background-color: color(var(--red-color-p3));
    }
        .red .well.active {
            box-shadow: 0 0em 0.5em 0em hsl(var(--red-color));
        }
    .well.orange {
        background-color: hsl(var(--orange-color));
        background-color: color(var(--orange-color-p3));
    }
        .orange .well.active {
            box-shadow: 0 0em 0.5em 0em hsl(var(--orange-color));
        }
    .well.yellow {
        background-color: hsl(var(--yellow-color));
        background-color: color(var(--yellow-color-p3));
    }
        .yellow .well.active {
            box-shadow: 0 0em 0.5em 0em hsl(var(--yellow-color));
        }
    .well.green {
        background-color: hsl(var(--green-color));
        background-color: color(var(--green-color-p3));
    }
        .green .well.active {
            box-shadow: 0 0em 0.5em 0em hsl(var(--green-color));
        }
    .well.purple {
        background-color: hsl(var(--purple-color));
        background-color: color(var(--purple-color-p3));
    }
        .purple .well.active {
            box-shadow: 0 0em 0.5em 0em hsl(var(--purple-color));
        }
    .well.pink {
        background-color: hsl(var(--pink-color));
        background-color: color(var(--pink-color-p3));
    }
        .pink .well.active {
            box-shadow: 0 0em 0.5em 0em hsl(var(--pink-color));
        }
/**
 * If just one of the settings wells is active, it looks visually more
 * pleasing to tighten the top and bottom margins.
 */
.ignore-accent-color #dark-mode-settings,
.force-dark-mode #accent-color-settings {
    margin-top: 0.325em;
    margin-bottom: 0.325em;
}
/**
 * If we're not showing the accent color wells, we need to adjust the popup to
 * reflect the smaller width so it still pops up perfectly underneath the
 * button.
 */
.ignore-accent-color #settings-popup {
    margin-left: -10.75em;
}
/**
 * For screens less than 400px wide:
 *   â€¢ Put the wells on their own row (no longer inline with their labels)
 *   â€¢ Shift the popup to accomidate that width change
 */
@media(max-width: 400px) {
    html:not(.ignore-accent-color) .wells {
        margin-left: 0;
        display: block;
        margin-top: var(--half-gap);
        text-align: left;
    }
    #settings-popup {
        margin-left: -145px;
        padding: 0.975em;
    }
        .ignore-accent-color #settings-popup {
            margin-left: -10.25em;
        }
        #settings-popup .group {
            margin-bottom: var(--half-gap);
        }
}
/**
 * For screens less than 324px wide:
 *   â€¢ Disable menu bar floating on scroll (remains relative)
 *   â€¢ Reflow menu items to each populate their own row (no more width available to remain inline)
 *   â€¢ Center the popup modal
 */
@media(max-width: 324px) {
    #menubar,
    #menubar.float {
        position: relative;
        transform: unset;
    }
    #menubar-height-offset {
        display: none;
    }
    #menubar menu li {
        display: block;
    }
    #menubar.float.hide-when-scrolling-on-small-screens,
    #settings-popup.show.float.hide-when-scrolling-on-small-screens {
        opacity: 1;
        pointer-events: auto;
    }
    #settings-popup {
        margin-left: 0;
        top: 21em;
        left: calc(50% + -97px);
        transform-origin: 50% 0;
    }
}
/**
 * For screens larger than 700px wide:
 *   â€¢ Enlarge every element & its padding
 *   â€¢ Absolutely position the logo to the left
 *   â€¢ Absolutely position the settings button to the right
 *   â€¢ Center the menu list
 */
@media (min-width: 700px) {
    #menubar {
        font-size: 1rem;
        text-align: left;
        position: fixed;
    }
        #menubar.float {
            transform: none;
        }
    #logo {
        position: absolute;
        padding-left: 0.78em;
        padding-top: 0.85em;
        margin-top: 0;
    }
        #logo:after {
            top: 0.35rem;
            left: 0.35rem;
            height: 2.5rem;
            width: 2.5rem;
        }
        #imac {
            width: 32px;
            height: 32px;
        }
        #signature {
            height: 47px;
        }
    #menubar menu li {
        min-width: 16vw;
        padding-top: var(--body-line-height);
    }
    #settings-button-wrapper {
        position: absolute;
        left: 100%;
        top: 0;
        margin-left: -3.425em !important;
        padding-top: var(--body-line-height) !important;
    }
        @supports (margin-left: calc(-3.425em - env(safe-area-inset-right))) {
            #settings-button-wrapper {
                margin-left: calc(-3.425em - env(safe-area-inset-right)) !important;
            }
        }
        #settings-button-wrapper button {
            display: block;
            width: auto;
            line-height: 0;
            padding-top: 0.3em;
            padding-bottom: 0.3em;
        }
        #settings-button-wrapper button svg {
            padding-bottom: 1px;
            height: 1rem;
        }
    #menubar.float.hide-when-scrolling-on-small-screens,
    #menubar.hide-when-scrolling-on-larger-screens,
    #settings-popup.show.float.hide-when-scrolling-on-small-screens,
    #settings-popup.show.hide-when-scrolling-on-larger-screens {
        opacity: 1;
        pointer-events: auto;
    }
    #menubar-height-offset {
        height: 0;
    }
    #settings-popup {
        position: fixed;
        margin-left: -402px;
        left: 100%;
    }
    .ignore-accent-color #settings-popup {
        margin-left: -14.2em;
    }
        #settings-popup,
        #settings-popup.float {
            top: 3.75em;
        }
}
/**
 * For screens larger than 900px wide:
 *   â€¢ Slight padding and margin adjustments to select elements, remains
 *     largely the same as the layout for medium screens.
 */
@media (min-width: 900px) {
    #logo:after {
        left: 0.25rem;
    }
    #menubar menu li {
        min-width: 8em;
        padding-top: 1.25em;
    }
    #settings-button-wrapper {
        padding-top: var(--gap) !important;
    }
    #settings-popup {
        margin-left: -443px;
    }
    .ignore-accent-color #settings-popup {
        margin-left: -14.25em;
    }
}


/*******************
 ***  10. CARDS  ***
 *******************/

/**
 * .cards is a required container or wrapper for .card elements Required
 * mostly to disable the global link element padding, margin, and background
 * color on linked cards.
 */
.cards.column {
    gap: var(--gap);
}
.cards a {
    padding: 0;
    margin: 0;
}
.cards a:hover {
    background-color: transparent !important;
}

.card {
    border-radius: 1em;
    border: 1px solid var(--widget-border);
    background-color: var(--widget-background);
    box-shadow: var(--inactive-shadow);
    display: inline-block;
    vertical-align: middle;
    overflow: hidden;
    text-align: center;
    width: 100%;
}
    /**
     * Ensures metatdata associated to a given card (tags, date, etc.) are all
     * rendered inline together.
     */
    .card .metadata mark.tag,
    .card .metadata time {
        display: inline-block;
    }
    .card img,
    .card video {
        display: block;
        border-radius: 0 !important;
    }
    .card .logo {
        width: auto;
        height: 15vw;
        max-height: 6em;
        padding-top: 1em;
    }
    .card .label {
        margin-top: 1em;
        margin-bottom: 1em;
        padding-left: 1em;
        padding-right: 1em;
    }
    .card .logo ~ .label {
        margin-top: 0.5em;
    }
        .card .label .primary,
        .card .label .secondary {
            text-align: center;
        }
        .card .label .primary {
            font-weight: bold;
            margin-bottom: calc(var(--half-gap) / 2);
            color: var(--primary-foreground);
        }
        /**
         * Since the secondary text is very likely to wrap (and sometimes wrap
         * more than twice), we need the proper <p>/<body> line height
         * applied.
         */
        .card .label .secondary {
            line-height: var(--body-line-height);
            color: var(--heavy-secondary-foreground);
        }
    .card:hover {
        background-color: hsla(var(--accent-color), var(--highlight-background-opacity));
        background-color: color(var(--accent-color-p3) / var(--highlight-background-opacity));
        box-shadow: var(--active-shadow);
    }
    .card:hover .label .primary {
        color: hsl(var(--accent-color));
        color: color(var(--accent-color-p3));
    }
    .card:hover img,
    .card:hover svg,
    .card:hover video {
        transform: scale(1.05) translate(0, -2.5%);
    }
    #dark .column .card:hover img,
    #dark .column .card:hover svg,
    #dark .column .card:hover video {
        filter: brightness(1);
    }
/**
 * "Updates" and "Articles" are special groups of cards with minor styling
 * tweaks from default card stock.
 */
.updates .card .label .primary,
.updates .card .label .secondary,
.articles .card .label .primary,
.articles .card .label .secondary {
    text-align: left;
}
.updates a,
.articles a {
    width: 100%;
}


/*********************
 ***  11. FLEXBOX  ***
 *********************/

/* My very, very shitty flexbox system. It Worksâ„¢ */

/**
 * To be applied at the document's root to:
 *   â€¢ Provide an expanded canvas (otherwise, <main> contents are restricted to the prose-friendly max-width)
 *   â€¢ Enable flexbox layout for <main>'s immediate children
 *   â€¢ Preserve prose (if any) max-width by means of applying the max-width to <article>, instead
 *
 * Examples of this in use include:
 *   â€¢ /
 *   â€¢ /about
 *   â€¢ /articles
 *   â€¢ /projects
 */
.expanded-page main {
    gap: var(--gap);
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
}
    @media (min-width: 700px) {
        .expanded-page main {
            max-width: 60em;
        }
        .expanded-page article {
            max-width: 34em;
        }
    }
    @media (min-width: 900px) {
        .expanded-page article {
            max-width: 35em;
        }
    }
/**
 * Flexbox rows. By default, on small screens contents of the row flow to a
 * single vertical column, and on larger screens contents stretch to fill the
 * row in accordance with their config.
 */
.row {
    width: 100%;
    gap: var(--gap);
    display: flex;
    justify-content: center;
    flex-direction: column;
    flex-wrap: wrap;
}
    /**
     * A "hint" to disable the reflow to a single vertical column on small
     * screens, instead attempting to render on a single row for as much as
     * physically possible.
     *
     * This does _not_ fully disable wrapping.
     */
    .row.resist-wrap {
        flex-direction: row;
    }
/**
 * Flexbox columns. They're greedy to fill horizontal space, but will shrink
 * if necessary.
 */
.column {
    display: flex;
    flex-direction: column;
    flex-basis: 0;
    flex-grow: 2;
    flex-shrink: 1;
    align-items: center;
}
    /**
     * To be used as a "buffer" specifically when a single column in a given
     * row needs invisible pressure to maintain width _as if_ it had siblings
     * (e.g. a row at the bottom of the Articles page on a large screen if
     * there's only one remaining article column to populate the row).
     */
    .column.whitespace {
        flex-grow: 1;
        /**
         * No need to be that "buffer" when everything in the row's wrapped to
         * a single column on small screens, anyways.
         */
        display: none;
    }
    .column.align-left {
        align-items: start;
    }
    /**
     * This seems nonsensical, but in practice every single time I use
     * flexbox, I end up needing on or more headers, and every single time I
     * ended up wishing that top margin GONE. So despite how wrong it feels,
     * if they show up in a column, ignore top margin in most cases.
     */
    .column > h1:first-child,
    .column > h2:first-child,
    .column > h3:first-child {
        margin-top: 0;
    }
    .column h4,
    .column h5,
    .column h6 {
        margin-top: 0;
    }
@media (min-width: 700px) {
    .row {
        flex-direction: row;
    }
    .column.whitespace {
        display: flex;
    }
}


/*******************
 ***  12. MEDIA  ***
 *******************/

img,
video {
    /**
     * Makes <img> & <video> elements responsively resize the way my brain
     * expects them to (the elements will respectivelly not explode byeond
     * their "true" max widths, but will of course responsively shrink when
     * needed).
     * 
     * Yes, there's other ways to do this, and yes, I hate them all.
     * This Is The Wayâ„¢.
     */
    max-width: 100%;
    /**
     * Rounded corners are the default look and feel, must be opted-OUT to
     * have sharp corners selectively applied only when necessary.
     */
    border-radius: 0.25em;
}
/**
 * Images tend to look insanely bright when in dark mode. A filter to slightly
 * decrease the brightness of all media until hovered by a mouse pointer or
 * tapped by a finger is a _really_ pleasing way to make late night scrolling
 * more visually soothing.
 */
#dark img,
#dark video {
    filter: brightness(0.7);
    transition: border 0.4s cubic-bezier(0.165, 0.84, 0.44, 1), box-shadow 0.4s cubic-bezier(0.165, 0.84, 0.44, 1), transform 0.4s cubic-bezier(0.165, 0.84, 0.44, 1), filter 0.4s ease-out;
}
    #dark img:hover,
    #dark video:hover {
        filter: brightness(1);
    }
/**
 * Snowflakes
 * A collection of image types that require "special" attention.
 */
.app-icon {
    height: 1em;
    margin-top: 0.1em;
    vertical-align: text-top;
}
.app-download {
    text-align: center;
}
    .app-download img {
        border-radius: 0.7rem;
        height: 40px;
        width: auto;
        cursor: pointer;
    }
.no-border-radius,
.no-border-radius img {
    border-radius: 0 !important;
}
.permalink {
    height: 0.7em;
}
/**
 * For emoji rendered inline from Markdown via GitHub syntax (e.g. :+1:)
 */
img.emoji {
    border-radius: 0;
}
/**
 * The modern approach to "emoji"-style lists used in newer Music Player
 * Showcase articles.
 */
.bullet {
    margin-right: 0.25em;
}




figure {
    text-align: center;
}
figure p {
    text-align: center;
    margin-top: 0;
    margin-bottom: 0;
}
div.inline,
div.shadow {
    line-height: 0;
}
div.inline p,
div.shadow p {
    text-align: center;
    margin-top: 0;
    margin-bottom: 0;
}
figcaption {
    padding: 0 10%;
    vertical-align: bottom;
    max-width: 30.4rem;
    display: inline-block;
}
/*
Markdown adds an empty paragraph element after figcaptions for some reason, hide them.
 */
figcaption + p {
    display: none;
}
figcaption {
    margin-top: 0.65em;
}
.edge-to-edge figcaption {
    margin-top: 1.3em;
}
figure > p {
    line-height: 0;
}
div.edge-to-edge > p,
div.inline > p {
    line-height: 0;
}
.shadow figcaption,
.macos-window-screenshot figcaption,
.watchos-screenshot figcaption,
.ios-screenshot figcaption {
    margin-top: 1.95em;
}
.inline.shadow figcaption {
    margin-top: 1.3em;
}
div.edge-to-edge:not(.shadow, .ios-screenshot, .macos-window-screenshot) {
    margin-top: 0;
    margin-bottom: 1.3em;
}
.macos-window-screenshot > p {
    text-align: center;
}
.edge-to-edge:not(.shadow, .ios-screenshot, .macos-window-screenshot) figcaption {
    margin-top: 1.3em;
}
.edge-to-edge > p {
    margin-bottom: 0;
}
.one-image figcaption,
.two-images figcaption,
.three-images figcaption {
    margin-top: 1.95em;
}
.inline.shadow {
    margin-top: 1.3em;
    margin-bottom: 1.3em;
}
.one-image,
.two-images,
.three-images {
    width: 100%;
    margin-bottom: 1.3em;
}
/* On iOS devices, all edge-to-edge elements are fully edge-to-edge */
.hero-banner,
.edge-to-edge,
.uml-flowchart,
.uml-sequence-diagram {
    display: inline-block;
    height: auto;
    max-width: 1600px;
    max-height: none;

    width: 100vw;
    margin-left: -19vw;
    margin-right: -19vw;

    border-radius: 0;
    margin-top: 1.3em;
    margin-bottom: 2.6em;
    text-align: center;
}
.edge-to-edge.infinite {
    margin-bottom: 1.3em;
}
.edge-to-edge.ios-screenshot.one-image {
    width: 100%;
    margin-left: 0;
    margin-right: 0;
    border-radius: 0.25em;
}
figure {
    margin-top: 2.6em !important;
    margin-bottom: 2.6em !important;
}
figure.highlight,
figure.codehilite {
    margin-top: 1.3em !important;
    margin-bottom: 2.6em !important;
}
div > figure.highlight,
div > figure.codehilite {
    margin-bottom: 1.3em !important;
}
figure.edge-to-edge {
    margin-top: 1.3em !important;
    margin-bottom: 2.6em !important;
}
figure figcaption {
    margin-top: 1.3em;
}
figure.edge-to-edge {
    margin-top: 1.3em;
}
div.edge-to-edge.ios-screenshot,
div.edge-to-edge.macos-window-screenshot,
div.edge-to-edge.three-images.shadow {
    margin-top: 1.3em;
    margin-bottom: 2.6em;
}
figure.edge-to-edge.ios-screenshot,
figure.edge-to-edge.macos-window-screenshot,
figure.edge-to-edge.three-images.shadow {
    margin-top: 1.3em;
    margin-bottom: 2.6em;
}
.edge-to-edge + div + .edge-to-edge {
    margin-top: 0;
}
    .edge-to-edge.infinite {
        max-width: unset;
        margin-left: -36vw;
        margin-right: -36vw;
    }
    .edge-to-edge img,
    .edge-to-edge video {
        display: inline-block;
        width: 100%;
    }
.edge-to-edge p {
    text-align: center;
}
.hero-banner {
    margin-top: -2.75em !important;
    margin-bottom: 0;
    max-width: 2000px;
}
    .hero-banner img,
    .hero-banner video {
        border-radius: 0;
    }
.uml-flowchart, .uml-sequence-diagram {
    overflow-x: scroll;
    /* Momentum scrolling in iOS */
    -webkit-overflow-scrolling: touch;
}
.inline,
.half-inline {
    margin-bottom: 1.3em;
    text-align: center;
}
.inline img,
.inline video {
    margin-left: 0;
    margin-right: 0;
}
.true-width img,
.true-width video {
    width: auto;
    zoom: 50%;
}
.half-inline img {
    display: inline-block;
    height: auto;
    width: 50%;
}
.half-inline > p {
    text-align: center;
}
.half-inline a:hover {
    background-color: unset !important;
}
.edge-to-edge > p > a:hover,
.edge-to-edge > a:hover,
figure > a:hover,
.one-image > a:hover,
.two-images > a:hover,
.three-images > a:hover,
.widget > a:hover {
    background-color: transparent !important;
}
.widget img {
    border-radius: 2.5vw;
}
.watchos-screenshot img,
.watchos-screenshot video {
    background-color: #000000;
    padding: 1.5em;
    border-radius: 3em !important;
}
.macos-window-screenshot:not(.edge-to-edge),
.watchos-screenshot:not(.edge-to-edge) {
    margin-top: 2.6em !important;
    margin-bottom: 2.6em !important;
}
.ios-screenshot img,
.ios-screenshot video,
.widget img {
    border: 1px solid #000000;
}
.macos-window-screenshot img,
.macos-window-screenshot video {
    box-shadow: 0 0.5em 2em rgba(30, 30, 30, 0.3); /*rgba(128, 128, 128, 0.5);*/
    border: 1px solid #000000;
    border-radius: 4px !important;
}
.one-image img,
.one-image video {
    border-radius: 0.75em;
}
.two-images img,
.two-images video,
.three-images img,
.three-images video {
    border-radius: 0.5em;
}
.one-image img,
.one-image video {
    max-width: 100%;
    text-align: center;
    margin-left: auto;
    margin-right: auto;
}
.two-images img,
.two-images video {
    max-width: 28vw;
    width: 25vw;
    margin-left: 1.75vw;
    margin-right: 1.75vw;
}
.edge-to-edge.two-images img,
.edge-to-edge.two-images video {
    max-width: 44vw;
    margin-left: 1.5vw;
    margin-right: 1.5vw;
}
.three-images img,
.three-images video {
    width: 25vw;
    margin-left: 1.25vw;
    margin-right: 1.25vw;
    max-width: 9.25em;
}
.edge-to-edge.three-images img,
.edge-to-edge.three-images video {
    max-width: 28vw;
    margin-left: 1.75vw;
    margin-right: 1.75vw;
}



@media (min-width: 700px) {
    .hero-banner {
        margin-top: -1.775em !important;
    }
    :not(.edge-to-edge) > figure.highlight,
    :not(.edge-to-edge) > figure.codehilite {
        margin-top: 1.3em !important;
        margin-bottom: 1.3em !important;
    }
    .codehilite,
    .highlight,
    .edge-to-edge,
    .hero-banner,
    .uml-flowchart, .uml-sequence-diagram,
    article > pre {
        width: 100vw;
    }
        .codehilite,
        .highlight,
        article > pre {
            margin-left: -36vw;
            margin-right: -36vw;
        }
        .hero-banner,
        .edge-to-edge,
        .uml-flowchart, .uml-sequence-diagram {
            margin-left: -35vw;
            margin-right: -35vw;
        }

    /**
     * .small images are only edge-to-edge on small devices, they turn into
     * standard inline images for all larger devices.
     */
    .edge-to-edge.small {
        margin-left: 0;
        margin-right: 0;
        width: 100%;
        margin-top: 1.3em;
        margin-bottom: 2.6em;
    }
    .edge-to-edge.medium {
        max-width: 812px;
    }
    .inline img,
    .edge-to-edge.small img,
    .edge-to-edge.small video {
        border-radius: 0.25em;
    }

    figcaption {
        padding: 0;
        display: inline-block;
        max-width: 31.4rem;
    }
    .edge-to-edge.shadow:not(.small) figcaption,
    .macos-window-screenshot figcaption,
    .watchos-screenshot figcaption,
    .ios-screenshot figcaption {
        margin-top: 1.95em !important
    }
    .edge-to-edge:not(.shadow) figcaption {
        margin-top: 0.975em;
    }

    .macos-window-screenshot img,
    .macos-window-screenshot video {
        border-radius: 7px !important;
    }
    .widget img {
        border-radius: 1em;
    }

    .two-images img,
    .two-images video {
        max-width: 10em;
        margin-left: 2vw;
        margin-right: 2vw;
    }
    .three-images img,
    .three-images video {
        width: 10em;
        margin-left: 0.5em;
        margin-right: 0.5em;
        max-width: unset;
    }
    .edge-to-edge.one-image img,
    .edge-to-edge.one-image video,
    .edge-to-edge.two-images img,
    .edge-to-edge.two-images video,
    .edge-to-edge.three-images img,
    .edge-to-edge.three-images video {
        max-width: 28vw;
    }
    .edge-to-edge.two-images img,
    .edge-to-edge.two-images video,
    .edge-to-edge.three-images img,
    .edge-to-edge.three-images video {
        margin-left: 2vw;
        margin-right: 2vw;
    }
}
@media (min-width: 801px) {
    .edge-to-edge.medium img,
    .edge-to-edge.medium video {
        border-radius: 0.25em;
    }
}
@media (min-width: 900px) {
    .hero-banner {
        margin-top: -1.975em !important;
    }
    .edge-to-edge.medium img,
    .edge-to-edge.medium video,
    .edge-to-edge.large img,
    .edge-to-edge.large video {
        border-radius: 0;
    }
    .edge-to-edge.medium {
        max-width: 1000px;
        width: 100vw;
    }
    .edge-to-edge.large {
        margin-left: -35vw;
        margin-right: -35vw;
        width: 100vw;
        max-width: 1303px;
    }
    figcaption {
        max-width: 32.4rem;
    }
    /* Lets iOS Screenshots spill beyond the text width bounds when in post view,
       but stay bound for home view. */
    .one-image img,
    .two-images img,
    .three-images img,
    .one-image video,
    .two-images video,
    .three-images video {
        border-radius: 0.75em !important;
    }
    .two-images img,
    .two-images video {
        max-width: 14rem;
        margin-left: 1em;
        margin-right: 1em;
        width: 100%;
    }
    .three-images img,
    .three-images video {
        width: 10.25em;
        margin-left: 0.5em;
        margin-right: 0.5em;
        max-width: unset;
    }
    .edge-to-edge.one-image img,
    .edge-to-edge.one-image video,
    .edge-to-edge.two-images img,
    .edge-to-edge.two-images video,
    .edge-to-edge.three-images img,
    .edge-to-edge.three-images video {
        width: 25vw;
        max-width: 17rem;
    }
    .edge-to-edge.two-images img,
    .edge-to-edge.two-images video,
    .edge-to-edge.three-images img,
    .edge-to-edge.three-images video {
        margin-left: 1.3rem;
        margin-right: 1.3rem;
    }

    .macos-window-screenshot img,
    .macos-window-screenshot video {
        border-radius: 8px !important;
    }
}
@media (min-width: 1001px) {
    .edge-to-edge.medium img,
    .edge-to-edge.medium video {
        border-radius: 0.25em;
    }
}
@media (min-width: 1304px) {
    .edge-to-edge.large img,
    .edge-to-edge.large video {
        border-radius: 0.25em;
    }
}
@media (min-width: 1601px) {
    .edge-to-edge img,
    .edge-to-edge video {
        border-radius: 0.25em;
    }
}
@media (min-width: 2001px) {
    .hero-banner img,
    .hero-banner video {
        border-bottom-left-radius: 0.25em;
        border-bottom-right-radius: 0.25em;
    }
}









































/* ----- TYPEFACE ----- */

pre,
code {
    /* This isn't perfect. Ideally, we'd use a monospace variant of the "system-ui"
       values above, but since that doesn't exist, we'll leverage the work
       Github did with their monospace font-family (as of 2018)*/
    font-family: "SFMono-Regular",
                 Consolas,
                 "Liberation Mono",
                 Menlo,
                 Courier,
                 monospace !important;
}
p > code {
    letter-spacing: -0.0375em;
}


/* ----- SIZES, MARGINS, AND WEIGHTS ----- */
.button {
    font-size: 1.3rem;
}

p,
blockquote,
.highlight, .codehilite,
.box {
    margin-top: 0;
    margin-bottom: 1.3rem;
}
.uml-sequence-diagram, .uml-flowchart {
    margin-top: 0 !important;
    margin-bottom: 1.3em !important;
}
blockquote {
    padding-left: 0.975em;
}
    li blockquote {
        margin-top: 0.975em;
    }
code {
    font-size: 0.9em;
}
.footnote ol, .footnote ol li p, /* Marcdown */
.footnotes ol, .footnotes ol li p, /* Barrowclift.me */
figcaption,
input, select, textarea, button,
kbd {
    font-size: 0.833em;
    margin-top: 0;
    margin-bottom: 1.3em;
}
figcaption {
    margin-bottom: 0;
}
pre {
    font-size: 0.75em;
    line-height: 1.375em;
}
    pre code {
        font-size: inherit;
    }
code {
    padding: 0 0.325em;
}
code a {
    padding: 0 0.325em !important;
    margin-left: -0.325em !important;
    margin-right: -0.325em !important;
}



/* ----- LISTS ----- */
/* Normal lists */





button,
.button {
    font-weight: 700;
}
blockquote {
    font-style: italic;
}
blockquote {
    border-left: 0.2em solid #000000;
}

main a {
/*    text-decoration: underline;*/
}
.edge-to-edge > a,
.app-download a:hover,
#article-linkback a,
.reversefootnote,
figure > a,
.one-image > a
.two-images > a
.three-images > a,
.macos-window-screenshot > a,
.watchos-screenshot > a,
.ios-screenshot > a {
    text-decoration: none;
}
.app-download a:hover {
    background-color: transparent !important;
}
main a,
.anchor,
summary {
    border-radius: 0.25em;
}
main a,
summary {
    padding-left: 0.25em;
    padding-right: 0.25em;
    margin-left: -0.25em;
    margin-right: -0.25em;
}
main a {
    padding-top: 0.1em;
    padding-bottom: 0.1em;
}
div a,
figure a {
    padding-top: 0;
    padding-bottom: 0;
}


/* NAVBAR --------------------------------------------------------------------------- */


@supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or (backdrop-filter: saturate(180%) blur(20px))) {
    .bigfoot-footnote__content,
    .bigfoot-footnote__tooltip,
    .card,
    [data-hint]:after {
        -webkit-backdrop-filter: saturate(180%) blur(20px);
        backdrop-filter: saturate(180%) blur(20px);
    }
}


.card:hover,
.shadow a:hover img,
.shadow video:hover,
.ios-screenshot a:hover img,
.ios-screenshot video:hover,
.watchos-screenshot a:hover img,
.watchos-screenshot:hover video,
.widget a:hover img {
    transform: scale(1.025);
}
button:hover,
.button:hover {
    transform: scale(1.05);
}
button.pill:hover,
.setting-toggles.active button.pill,
.well:hover {
    transform: scale(1.1);
}
button.active,
button:active,
.button.active,
.button:active,
.well:active,
button.pill:hover:active {
    transform: scale(0.95) !important;
}
.setting-toggles.active button.pill:hover {
    transform: scale(1.15);
}




/* ----- DIVIDERS ----- */
hr {
    border: none;
    height: 2px;
    margin: 3.9em 0; /* 1.3 base type bottom margin * 2 */
    max-width: 33em;
    width: 100%;
    display: block;
}


/* ----- FORMS, BUTTONS, AND LINKS ----- */
.button-group a:hover {
    background-color: transparent !important;
}
input,
button,
.button {
    width: 100%;
}
textarea {
    max-width: 100%;
}
input,
button,
.button {
    display: block;
    margin-top: 0;
    margin-bottom: 0.65rem;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    padding: 0.325em;
}
/* BUTTON PADDING IS FUCKED */
button,
.button {
    border-radius: 0.65em;
}
.button span {
    text-align: center;
}
.social .button {
    border-radius: 1.3em;
}
input {
    border-radius: 0.5em;
}
#dark button img,
#dark .button img {
    filter: brightness(1);
}
button,
.button {
    cursor: pointer;
    padding-left: 1.3em;
    padding-right: 1.3em;
    border: none;
    text-align: center;
    display: inline-block;
}
.button.disabled,
button.disabled,
button:disabled {
    cursor: not-allowed;
}
/*.button-group li,
.button-group li a,
.button-group li a p  {
    width: 100%;
}*/
    .button-group.autosize li,
    .button-group.autosize li a,
    .button-group.autosize li a p {
        width: auto;
    }
    .button-group.autosize li {
        margin-left: 0.325em;
        margin-right: 0.325em;
    }
input[type='checkbox'] {
    width: 1rem;
    display: inline-block;
}
input {
    border: 1px solid #000000;
    width: 100%;
}
input:focus,
summary {
    outline: 0;
}
/* Remove box shadow firefox, chrome and opera put around required fields. */
input:required {
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    -o-box-shadow: none;
    box-shadow: none;
}



summary {
    cursor: pointer;
    display: inline-block;
}

a:hover {
    text-decoration: none;
}
.button-group li {
    display: inline-block;
    margin: 0.75em 0;
}
.button-group {
    list-style-type: none;
    padding: 0;
    margin-left: 0;
    margin-right: 0;
    display: block;
    text-align: center;
}
    .button-group.center {
        text-align: center;
    }
    .button-group.left {
        text-align: left;
    }
        .button-group.left li:first-child {
            margin-left: 0;
        }

.button-group .button {
    margin-bottom: 0;
}








/* ----- HINTS ----- */
[data-hint]:after {
    z-index: 100;
}
[data-hint]:before {
    z-index: 101;
}


/* IMAGES & VIDEO ------------------------------------------------------------------- */



/* CODE ----------------------------------------------------------------------------- */


/**
 * Inline code snippets
 */
code,
kbd {
    border: 1px solid #000000;

    border-radius: 0.25em;
    margin: 0;
    word-wrap: break-word;
}
mark code {
    padding: 0;
    background-color: transparent;
    border: none;
}
del code {
    padding: 0;
    background-color: transparent !important;
    border: none;
    font-size: 1em;
}
kbd {
    border: 1px solid #000000;
    padding-left: 0.4em;
    padding-right: 0.4em;
    box-sizing: border-box;
}

mark,
code {
    border-radius: 0.25em;
}

/**
 * There are two core types of code blocks: those that are edge-to-edge, dark
 * themed, and support advanced features like syntax highlighting
 * (.codehilite) and those that are inline, gray-themed more suited to
 * displaying preformatted text (pre).
 *
 * This sadly leads to some confusing crossover, however, as pre is also a
 * child of .codehilite, so the base style is applied first to pre and then
 * overwritten as necessary with ".codehilite pre" and ".codehilite pre code".
 */
.codehilite,
.highlight,
.edge-to-edge.infinite > pre {
    /**
     * iOS used to resize the code block text size to be *far* larger than it was
     * supposed to be This prevents this from happening.
     */
    -webkit-text-size-adjust: none;
    /* Momentum scrolling in iOS */
    -webkit-overflow-scrolling: touch;

    display: inline-block;
    height: auto;
    max-height: none;
    line-height: 1em;

    max-width: unset;
    text-align: center;
    padding-top: 2.6em;
    padding-bottom: 2.6em;
    overflow-x: scroll;

    max-width: 1600px;
    border-radius: 0;

    width: 100vw;
    margin-left: -19vw;
    margin-right: -19vw;

    border-radius: 0;
    margin-top: 1.3rem;
    margin-bottom: 1.3rem;
}
article > pre {
    margin-top: 0;
    margin-bottom: 1.3rem;
    margin-left: 0;
    margin-right: 0;
    border-radius: 0.25em;
}
article > pre > code {
    width: 100%;
    max-width: 44em;
    text-align: left;
    margin-left: 5.5%;
    margin-right: 5.5%;
}
.edge-to-edge.infinite > pre {
    padding-top: 2.6em;
    padding-bottom: 2.6em;
}
.edge-to-edge.infinite .highlight,
.edge-to-edge.infinite .codehilite,
.edge-to-edge.infinite > pre {
    margin-top: 0;
}
.highlighter-rouge div.highlight {
    padding: 0;
}
.highlighter-rouge pre.highlight {
    padding: 1.3rem;
    margin-bottom: 0;
}
.highlighter-rouge .highlight {
    text-align: left;
    max-width: 1600px;
    width: 100%;
    margin-top: 0;
    margin-left: 0;
    margin-right: 0;
    margin-bottom: 1.3em;
    display: block;
    border-radius: 0.25em;
    padding: 1.3em;
    box-shadow: unset;
}
li .highlighter-rouge div.highlight {
    margin-top: 0.65em;
    margin-bottom: 0.65em;
}
.highlighter-rouge pre.highlight {
    margin-top: 0;
    margin-bottom: 0;
    padding-top: 0.65em;
    padding-bottom: 0.65em;
    padding-left: 0.975em;
    padding-right: 0.975em;
}
.highlighter-rouge pre {
    margin-left: 0;
    margin-right: 0;
    overflow-x: scroll;
}
.highlighter-rouge pre,
.highlighter-rouge .highlight {
    border-radius: 0.25em;
}
.codehilite pre,
.highlight pre {
    -webkit-overflow-scrolling: none;
}
li .codehilite,
li .highlight {
    margin-top: 0.65em;
    margin-bottom: 0.65em;
}
pre {
    border: 1px solid #000000;
    text-align: left;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    word-break: normal;

    max-width: 33rem;
    padding: 0;
    margin-left: 5.5%;
    margin-right: 5.5%;
    overflow: visible;

    /* Fix for that awful, double scrollview thing in Windows */
    -ms-overflow-style: none;
    overflow: -moz-scrollbars-none;

    /* Momentum scrolling in iOS */
    -webkit-overflow-scrolling: touch;
}
.codehilite pre {
    width: 33rem;
}
pre code {
    max-width: none;
    padding: 0;
    word-wrap: normal;
}
.edge-to-edge.infinite .highlight code,
.edge-to-edge.infinite .codehilite code {
    padding-right: 5%;
    padding-left: 2.5%;
    margin-left: -2.5%;
}
pre.ascii-art {
    padding-left: 0;
    padding-right: 0;
    overflow-x: scroll;
}
pre.ascii-art code {
    line-height: 1.05em;
    margin-left: 0;
    margin-right: 0;
    text-align: center;
}
pre.wrap,
pre.wrap code {
    white-space: normal !important;
    word-break: break-word;
}
.codehilite,
.highlight,
pre {
    box-sizing: border-box;
}
.codehilite pre,
.highlight pre {
    border-radius: none;
}
.codehilite pre,
.highlight pre,
pre code {
    white-space: pre;
    background-color: transparent !important;
    display: inline-block;
    border: 0;
}
.highlight pre {
    width: 100%;
}

.edge-to-edge.infinite > pre > code {
    text-align: left;
    width: 100%;
    margin-left: 5.5%;
    margin-right: 5.5%;
    max-width: 33rem;
}

/**
 * Code blocks in lists should become more "inline" than otherwise.
 */
li .highlight {
    overflow-x: scroll;
    padding: 0;
    margin-left: 0;
    margin-right: 0;
    display: block;
    width: auto;
    border-radius: 0.25em;
}
li .highlight pre {
    padding-left: 1.3em;
    padding-right: 1.3em;
    padding-top: 1.3em;
    padding-bottom: 1.3em;
    width: auto;
    margin-left: 0;
    margin-right: 0;
    margin-top: 0;
    margin-bottom: 0;
    overflow-x: scroll;
    text-align: left;
}

/**
 * Changes the highlight style for code blocks so it more closely matches that
 * of Sublime Text's Monokai theme.
 *
 * These must be separate, otherwise the highlighting doesn't work.
 */
pre::selection {
    background: hsla(54, 8%, 26%, 0.9);
}
pre::-moz-selection,
pre ::-moz-selection {
    text-shadow: none;
    background: hsla(54, 8%, 26%, 0.9);
}
pre::selection,
pre ::selection {
    text-shadow: none;
    background: hsla(54, 8%, 26%, 0.9);
}
span.gp {
    color: #c65d09;
}


/* FOOTER --------------------------------------------------------------------------- */


/* ----- FOOTNOTES ----- */
/*footer {
    margin-bottom: 3.9em;
}*/
footer {
    width: 100%;
}
footer,
#article-linkback {
    margin-top: 2.6em;
}
#article-linkback {
    text-align: center;
}
.flex footer {
    margin-top: 3.9em;
    margin-bottom: 0;
}
sup[id^=fnref] {
    font-size: smaller;
    vertical-align: super;
}
.bigfoot-footnote__wrapper,
.bigfoot-footnote {
    background-color: transparent;
}


/* ----- FOOTNOTE BUTTONS ----- */
/* Tapping the bottommost button triggers that iOS safari menu to pop up, really annoying.
   So we should add enough padding to make tapping the bottom button keep the page where it
   is */
#blog-footer-buttons {
    padding-bottom: 0;
    margin-bottom: 0;
}
#blog-footer-buttons svg {
    height: 0.75em;
    margin-right: 0;
    padding-right: 0.325em;
}
#blog-footer-buttons button {
    width: 100%;
}


/* MISC ----------------------------------------------------------------------------- */

.bigfoot-footnote__content {
    max-height: 25em !important;
}

/* ----- ANCHORS ----- */
.anchor {
    text-decoration: none !important;
    padding: 0 .34em;
    opacity: 0;
    float: none;
    margin-left: 0em;
    line-height: inherit;
}
/* When hovering the header text or the anchor location itself, show anchor */
.anchored:hover .anchor,
.anchored .anchor:hover {
    opacity: 1;
}
.header.anchor-link {
    display: none !important;
}


/* ----- ANIMATIONS ----- */
/* Transitioning background colors */
main,
html {
    transition: background-color 0.2s cubic-bezier(0.28, 0.11, 0.32, 0);
}
#parallax-background {
    transition: background 0.2s cubic-bezier(0.28, 0.11, 0.32, 0);
}
input, textarea {
    transition: background-color 0.2s ease, border 0.2s ease-in-out;
}
.column a .card img,
.column a .card svg,
.column .card video {
    transition: transform 0.6s cubic-bezier(0.165, 0.84, 0.44, 1), filter 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
}
#menubar menu a,
main a,
summary,
.anchor,
#settings-button-wrapper {
    transition: background-color 0.3s cubic-bezier(0.165, 0.84, 0.44, 1), color 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
}
.card,
.shadow a img,
.shadow video,
img.shadow,
video.shadow,
.ios-screenshot img,
.ios-screenshot video,
.widget img,
.card .label {
    transition: background-color 0.4s cubic-bezier(0.165, 0.84, 0.44, 1), color 0.4s cubic-bezier(0.165, 0.84, 0.44, 1), border 0.4s cubic-bezier(0.165, 0.84, 0.44, 1), box-shadow 0.4s cubic-bezier(0.165, 0.84, 0.44, 1), transform 0.4s cubic-bezier(0.165, 0.84, 0.44, 1), filter 0.4s ease-out;
}
.label .primary {
    transition: color 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
}
#menubar {
    transition: background-color 0.2s cubic-bezier(0.28, 0.11, 0.32, 0), opacity 0.2s ease-in-out;
}

/* Transitioning background */
hr {
    transition: background 0.2s cubic-bezier(0.28, 0.11, 0.32, 0);
}

/* Transitioning shadows */
.project { /* For hovering special project "cards" on the project page (TODO refactor to generic .cards) */
    transition: box-shadow 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
}

/* SVG Stroke */
.stroke-color {
    transition: stroke 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
}
.card .stroke-color {
    transition: stroke 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
}
/* SVG Fill */
.fill-color,
#signature path,
.card .fill-color,
.card #signature path,
.pill path {
    transition: fill 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
}

/* Everything */
.anchor {
    transition: all 0.2s ease-in-out;
}

/* Border */
input, textarea {
    transition: border 0.1s ease-in-out;
}

/* Resizing / Transformations */
.card-animation {
    transition: transform 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
}
.button,
button,
.well,
.bigfoot-footnote__button {
    transition: background-color 0.3s cubic-bezier(0.165, 0.84, 0.44, 1), box-shadow 0.3s cubic-bezier(0.165, 0.84, 0.44, 1), transform .3s cubic-bezier(0.165, 0.84, 0.44, 1);
}

.show-when-hovered,
.hide-when-hovered,
.sunglasses,
.closed-eyes,
.opened-eyes,
.smirk {
    transition: opacity 0.2s ease-in-out;
}

#menubar-height-offset {
    transition: height 0.2s ease-out;
}

pre
code {
    transition: background-color: 0.2s cubic-bezier(0.28, 0.11, 0.32, 0), color 0.2s cubic-bezier(0.28, 0.11, 0.32, 0), border-color 0.2s cubic-bezier(0.28, 0.11, 0.32, 0);
}

kbd {
    transition: all 0.2s cubic-bezier(0.28, 0.11, 0.32, 0);
}


/* ----- POSITIONING ----- */
.center {
    text-align: center;
    width: auto;
}


.show-when-dark {
    display: none !important;
}
.show-when-light {
    display: inline-block !important;
}
    /* TODO can I do block everywhere? or initial? */
    picture.show-when-light {
        display: block !important;
    }

.hide-when-small {
    display: none !important;
}
#settings-button-wrapper {
    display: inline-block !important;
}

/* MEDIA QUERIES ==================================================================== */

@media (min-width: 700px) {
    /* CONTAINER ---------------------------------- */

    main {
        margin-top: calc(var(--gap) * 4);
        max-width: 34em;
    }
    div > main {
        padding-left: 0;
        padding-right: 0;
    }
    @supports(padding-left: env(safe-area-inset-left)) {
        div > main {
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
        }
    }


    /* TYPOGRAPHY --------------------------------- */


    /* --- SIZES, MARGINS, AND WEIGHTS --- */
    html {
        font-size: 19px;
    }
    
    .button {
        font-size: 1em;
    }

    /* --- DIVIDERS --- */
    hr {
        max-width: 34em;
    }


    /* --- FORMS, BUTTONS, AND LINKS --- */
    input,
    textarea,
    select,
    button,
    .button {
        padding: 0.375em 0.5625em;
    }
    .bigfoot-footnote__button {
        font-size: 18px;
    }
    button,
    .button {
        padding-left: 1em;
        padding-right: 1em;
        width: 100%;
    }
    .button-group li {
        margin-left: 0.325em;
        margin-right: 0.325em;
        width: 28%;
    }
    .button-group.autosize li {
        width: auto;
    }

    /* CODE --------------------------------------- */


    .codehilite,
    .highlight,
    article > pre {
        text-align: left;
        max-width: 1600px;
        width: 100%;
        margin-top: 0;
        margin-left: 0;
        margin-right: 0;
        margin-bottom: 1.3em;
        display: block;
        border-radius: 0.25em;
        padding: 1.3em;
        overflow: hidden;
        box-shadow: unset;
    }
    pre {
        margin-left: 0;
        margin-right: 0;
    }
    .edge-to-edge.infinite .highlight,
    .edge-to-edge.infinite .codehilite,
    .edge-to-edge.infinite > pre {
        max-width: unset;
        text-align: center;
        padding-left: 0;
        padding-right: 0;
        padding-top: 2.6em;
        padding-bottom: 2.6em;
        overflow-x: scroll;

        width: 100%;
        border-radius: 0;
        margin-top: 0;
        margin-bottom: 1.3rem;
    }
    .edge-to-edge.infinite .highlight pre,
    .edge-to-edge.infinite .codehilite pre,
    .edge-to-edge.infinite > pre > code {
        width: 33rem;
        max-width: 33rem;
        width: 100%;
        padding: 0;
        overflow: visible;
        margin-left: 5.5%;
        margin-right: 5.5%;
        text-align: left;
    }
    pre,
    .codehilite,
    .highlight {
        border-radius: 0.25em;
    }
    pre.ascii-art code {
        margin-left: 0;
        margin-right: 0;
    }
    pre.ascii-art {
        text-align: center;
    }
    .codehilite + hr,
    .highlight + hr {
        margin-top: 2.6em;
    }
    .edge-to-edge.infinite .highlight pre,
    .edge-to-edge.infinite .codehilite pre,
    .edge-to-edge.infinite > pre > code {
        max-width: 34rem;
    }
    article > pre > code {
        max-width: unset;
        margin-left: 0;
        margin-right: 0;
    }

    /* FOOTER ------------------------------------- */
    #blog-footer-buttons {
        padding-bottom: 0;
    }

    /* MISC --------------------------------------- */

    .hide-when-small {
        display: initial !important;
    }
    main a {
        padding-top: 0.1em;
        padding-bottom: 0.1em;
    }
}

/*
Large devices (Macs)
Font size: 21px, ~Margin&Padding: 31.5px
*/
@media (min-width: 900px) {
    /* CONTAINER ---------------------------------- */

    main {
        max-width: 35em;
    }

    /* TYPOGRAPHY --------------------------------- */


    /* --- SIZES, MARGINS, AND WEIGHTS --- */
    html {
        font-size: 21px;
    }

    /* --- DIVIDERS --- */
    hr {
        max-width: none;
    }


    /* --- FORMS, BUTTONS, AND LINKS --- */
    button,
    .button {
        padding-left: 1em;
        padding-right: 1em;
    }


    /* CODE --------------------------------------- */


    .edge-to-edge.infinite .highlight pre,
    .edge-to-edge.infinite .codehilite pre,
    .edge-to-edge.infinite > pre > code {
        width: 35rem;
        max-width: 35rem;
    }


    /* MISC ----------------------------------------- */


    /* --- ANCHORS --- */
    .anchor {
        float: left;
        margin-left: -1.5em;
        font-size: 1rem;
    }

    main a {
        padding-top: 0.1em;
        padding-bottom: 0.1em;
    }
}


/* LIGHT THEME ============================================================= */

/* ----- BACKGROUNDS ----- */

/**
 * Primary floating backgrounds
 */
.bigfoot-footnote__content,
.bigfoot-footnote__tooltip {
    background-color: rgb(255, 255, 255, 0.975);
}
[data-hint]:after {
    background-color: rgba(255, 255, 255, 0.975);
}
.hint--right[data-hint]:before {
    border-right-color: rgba(255, 255, 255, 0.975);
}
.hint--top[data-hint]:before {
    border-top-color: rgba(255, 255, 255, 0.975);
}
.hint--bottom[data-hint]:before {
    border-bottom-color: rgba(255, 255, 255, 0.975);
}
.hint--left[data-hint]:before {
    border-left-color: rgba(255, 255, 255, 0.975);
}
/**
 * Secondary backgrounds
 */
pre,
code,
kbd {
    background-color: rgba(245, 245, 245, 0.25);
}
kbd {
    background-image: -moz-linear-gradient(rgba(255, 255, 255, 0.975), rgba(245, 245, 245, 0.9));
    background-image: -webkit-linear-gradient(rgba(255, 255, 255, 0.975), rgba(245, 245, 245, 0.9));
    background-image: linear-gradient(rgba(255, 255, 255, 0.975), rgba(245, 245, 245, 0.9));
}
/**
 * Special backgrounds
 */
#parallax-foreground {
    background-color: rgba(255, 255, 255, 0.975);
}
    @supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or (backdrop-filter: saturate(180%) blur(20px))) {
        #parallax-foreground {
            background-color: rgba(255, 255, 255, 0.95);
        }
    }
input,
textarea {
    background-color: rgba(255, 255, 255, 0.625);
}

/* ----- BORDERS AND LINES ----- */

/**
 * Primary
 */
input,
textarea,
.ios-screenshot img,
.ios-screenshot video,
kbd,
pre,
code,
blockquote,
.bigfoot-footnote,
.bigfoot-footnote__tooltip,
.widget img {
    border-color: rgba(50, 50, 50, 0.1);
}
/**
 * Secondary
 */
hr {
    background-color: rgba(150, 150, 150, 0.15);
    background: rgba(150, 150, 150, 0.15); /* Old browsers */
    background: -moz-linear-gradient(left,  rgba(255, 255, 255, 0.0) 0%, rgba(150, 150, 150, 0.15) 25%, rgba(150, 150, 150, 0.15) 50%, rgba(150, 150, 150, 0.15) 75%, rgba(255, 255, 255, 0.0) 100%); /* FF3.6+ */
    background: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(255, 255, 255, 0.0)), color-stop(25%,rgba(150, 150, 150, 0.1)), color-stop(50%,rgba(150, 150, 150, 0.1)), color-stop(75%,rgba(150, 150, 150, 0.1)), color-stop(100%,rgba(255, 255, 255, 0.0))); /* Chrome,Safari4+ */
    background: -webkit-linear-gradient(left,  rgba(255, 255, 255, 0.0) 0%, rgba(150, 150, 150, 0.15) 25%, rgba(150, 150, 150, 0.15) 50%, rgba(150, 150, 150, 0.15) 75%, rgba(255, 255, 255, 0.0) 100%); /* Chrome10+,Safari5.1+ */
    background: -o-linear-gradient(left, rgba(255, 255, 255, 0.0) 0%, rgba(150, 150, 150, 0.15) 25%, rgba(150, 150, 150, 0.15) 50%, rgba(150, 150, 150, 0.15) 75%, rgba(255, 255, 255, 0.0) 100%); /* Opera 11.10+ */
    background: -ms-linear-gradient(left, rgba(255, 255, 255, 0.0) 0%, rgba(150, 150, 150, 0.15) 25%, rgba(150, 150, 150, 0.15) 50%, rgba(150, 150, 150, 0.15) 75%, rgba(255, 255, 255, 0.0) 100%); /* IE10+ */
    background: linear-gradient(to right, rgba(255, 255, 255, 0.0) 0%, rgba(150, 150, 150, 0.15) 25%, rgba(150, 150, 150, 0.15) 50%, rgba(150, 150, 150, 0.15) 75%, rgba(255, 255, 255, 0.0) 100%); /* W3C */
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='rgba(150, 150, 150, 0.1)', endColorstr='rgba(255, 255, 255, 0.0)',GradientType=1 ); /* IE6-9 */
}
/**
 * Special
 */
.macos-window-screenshot img,
.macos-window-screenshot video {
    border-color: rgba(50, 50, 50, 0.25);
}

/* ----- FOREGROUNDS ----- */

/**
 * Primary Text
 */
a .header,
[data-hint]:after {
/*.card .primary {*/
    color: rgba(30, 30, 30, 0.9);
}
.pill path {
    fill: white;
}
blockquote,
figcaption {
    color: rgba(30, 30, 30, 0.5);
}
.stroke-color {
    stroke: var(--heavy-secondary-foreground);
}
.fill-color {
    fill: var(--heavy-secondary-foreground);
}
/**
 * Secondary Text on Secondary Background
 */
pre,
code,
.language-plaintext .highlight pre code,
pre code,
mark code,
kbd {
    color: rgba(30, 30, 30, 0.7);
}
/**
 * Minor Text
 */
img {
    color: rgba(30, 30, 30, 0.375);
}
.permalink path {
    fill: rgba(30, 30, 30, 0.375);
    stroke: transparent;
}
/**
 * Lit Text
 *
 * Text with any dark or bold color behind it (like a button)
 */
button,
.button,
a.button:hover,
.codehilite,
.codehilite pre,
.highlight,
.highlight pre,
.highlight pre code {
    color: rgba(255, 255, 255, 1);
}
a.button {
    color: rgba(255, 255, 255, 1) !important;
}

/* ----- DROP SHADOWS ----- */


.shadow img,
.shadow video,
img.shadow,
video.shadow,
.project,
.ios-screenshot img,
.ios-screenshot video,
.watchos-screenshot img,
.watchos-screenshot video,
.widget img {
    box-shadow: 0em 1em 2.75em rgba(50, 50, 50, 0.1), 0em 0.22em 0.6em rgba(50, 50, 50, 0.05);
}
    .shadow a:hover img,
    .shadow video:hover,
    a:hover img.shadow,
    video:hover.shadow,
    .project:hover,
    .ios-screenshot a:hover img,
    .ios-screenshot video:hover,
    .watchos-screenshot a:hover img,
    .watchos-screenshot:hover video,
    [data-hint]:after,
    .bigfoot-footnote,
    .bigfoot-footnote__tooltip,
    .widget a:hover img {
        box-shadow: 0em 2em 3.5em rgba(50, 50, 50, 0.15), 0em 0.45em 0.85em rgba(50, 50, 50, 0.1);
    }

#dark .show-when-dark {
    display: inline-block !important;
}/* TODO can I do block everywhere? or initial? */
    #dark picture.show-when-dark {
        display: block !important;
    }
#dark .show-when-light {
    display: none !important;
}
html#dark.oled {
    background-color: rgb(0, 0, 0);
    color: white;
}
html#dark.oled #parallax-foreground {
    background-color: hsl(0, 0%, 4%, 0.9) !important;
}
@supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or (backdrop-filter: saturate(180%) blur(20px))) {
    html#dark.oled #parallax-foreground {
        background-color: hsl(0, 0%, 4%, 0.75) !important;
    }
}
#dark .bigfoot-footnote__content,
#dark .bigfoot-footnote__tooltip {
    background-color: rgba(46, 46, 46, 0.975);
}
#dark [data-hint]:after {
    background-color: rgba(46, 46, 46, 0.975);
}
#dark .hint--right[data-hint]:before {
    border-right-color: rgba(46, 46, 46, 0.975);
}
#dark .hint--top[data-hint]:before {
    border-top-color: rgba(46, 46, 46, 0.975);
}
#dark .hint--bottom[data-hint]:before {
    border-bottom-color: rgba(46, 46, 46, 0.975);
}
#dark .hint--left[data-hint]:before {
    border-left-color: rgba(46, 46, 46, 0.975);
}
#dark .edge-to-edge a:hover {
    background-color: transparent !important;
}
#dark kbd {
    background-image: linear-gradient(rgba(46, 46, 46, 0.9), rgba(23, 23, 23, 0));
}
#dark code,
#dark pre,
#dark .language-plaintext .highlight pre code,
#dark kbd {
    background-color: rgba(15, 15, 15, 0.25);
}
/** TODO HANDLE BY ACCENT */
#dark .codehilite,
#dark .highlight {
    background-color: rgba(15, 15, 15, 0.5);
}
#dark .codehilite pre,
#dark .codehilite pre code,
#dark .highlight pre,
#dark .highlight pre code {
    background-color: transparent;
}
/** IS THIS NEEDED??? */
#dark #parallax-foreground {
    background-color: rgba(46, 46, 46, 0.975);
}
    @supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or (backdrop-filter: saturate(180%) blur(20px))) {
        #dark #parallax-foreground {
            background-color: rgba(46, 46, 46, 0.95);
        }
    }
/** HANDLE BY ACCENT COLOR! */
#dark input,
#dark textarea {
    background-color: rgba(15, 15, 15, 0.375);
}
#dark input,
#dark textarea,
#dark .ios-screenshot img,
#dark .ios-screenshot video,
#dark pre,
#dark code,
#dark blockquote,
#dark .bigfoot-footnote,
#dark .bigfoot-footnote__tooltip,
#dark .widget img {
    border-color: rgba(150, 150, 150, 0.1);
}
#dark hr {
    background-color: rgba(150, 150, 150, 0.15);
    background: rgba(150, 150, 150, 0.15); /* Old browsers */
    background: -moz-linear-gradient(left,  rgba(255, 255, 255, 0.0) 0%, rgba(150, 150, 150, 0.15) 25%, rgba(150, 150, 150, 0.15) 50%, rgba(150, 150, 150, 0.15) 75%, rgba(255, 255, 255, 0.0) 100%); /* FF3.6+ */
    background: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(255, 255, 255, 0.0)), color-stop(25%,rgba(150, 150, 150, 0.1)), color-stop(50%,rgba(150, 150, 150, 0.1)), color-stop(75%,rgba(150, 150, 150, 0.1)), color-stop(100%,rgba(255, 255, 255, 0.0))); /* Chrome,Safari4+ */
    background: -webkit-linear-gradient(left,  rgba(255, 255, 255, 0.0) 0%, rgba(150, 150, 150, 0.15) 25%, rgba(150, 150, 150, 0.15) 50%, rgba(150, 150, 150, 0.15) 75%, rgba(255, 255, 255, 0.0) 100%); /* Chrome10+,Safari5.1+ */
    background: -o-linear-gradient(left, rgba(255, 255, 255, 0.0) 0%, rgba(150, 150, 150, 0.15) 25%, rgba(150, 150, 150, 0.15) 50%, rgba(150, 150, 150, 0.15) 75%, rgba(255, 255, 255, 0.0) 100%); /* Opera 11.10+ */
    background: -ms-linear-gradient(left, rgba(255, 255, 255, 0.0) 0%, rgba(150, 150, 150, 0.15) 25%, rgba(150, 150, 150, 0.15) 50%, rgba(150, 150, 150, 0.15) 75%, rgba(255, 255, 255, 0.0) 100%); /* IE10+ */
    background: linear-gradient(to right, rgba(255, 255, 255, 0.0) 0%, rgba(150, 150, 150, 0.15) 25%, rgba(150, 150, 150, 0.15) 50%, rgba(150, 150, 150, 0.15) 75%, rgba(255, 255, 255, 0.0) 100%); /* W3C */
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='rgba(150, 150, 150, 0.1)', endColorstr='rgba(255, 255, 255, 0.0)',GradientType=1 ); /* IE6-9 */
}
#dark .macos-window-screenshot img,
#dark .macos-window-screenshot video {
    border-color: rgba(0, 0, 0, 0.5);
}
#dark .uml-sequence-diagram path,
#dark .uml-sequence-diagram rect,
#dark .uml-flowchart rect,
#dark .uml-flowchart path[fill="none"],
#dark .uml-flowchart path[fill="#ffffff"][stroke="#000000"] {
    stroke: #FFFFFF;
}
#dark .uml-sequence-diagram rect,
#dark .uml-flowchart text,
#dark .uml-flowchart path {
    fill: #FFFFFF;
}
#dark .uml-flowchart rect,
#dark .uml-flowchart path[fill="#ffffff"][stroke="#000000"] {
    fill: transparent;
}
#dark .uml-flowchart path[fill="none"] {
    fill: none;
}

#dark kbd {
    border-color: rgba(0, 0, 0, 0.5);
}

#dark a .header,
#dark [data-hint]:after {
    color: rgba(255, 255, 255, 0.9);
}
.apple-logo path {
    fill: rgba(30, 30, 30, 0.9);
}
#dark .apple-logo path {
    fill: rgba(255, 255, 255, 0.9);
}
#dark blockquote,
#dark figcaption {
    color: rgba(255, 255, 255, 0.5);
}
#dark pre,
#dark code,
#dark pre code,
#dark mark code,
#dark kbd,
#dark input,
#dark textarea {
    color: rgba(255, 255, 255, 0.7);
}
#dark img,
#dark .longform-title {
    color: rgba(255, 255, 255, 0.375);
}
#dark .permalink path {
    fill: rgba(255, 255, 255, 0.375);
    stroke: transparent;
}
#dark .macos-window-screenshot img,
#dark .macos-window-screenshot video {
    box-shadow: 0 0.5em 2em #121212;
}
#dark #parallax-foreground {
    box-shadow: 0 -20px 20px -20px rgba(0, 0, 0, 0.75);
}
#dark .shadow img,
#dark .shadow video,
#dark img.shadow,
#dark video.shadow,
#dark .project,
#dark .ios-screenshot img,
#dark .ios-screenshot video,
#dark .watchos-screenshot img,
#dark .watchos-screenshot video,
#dark .widget img {
    box-shadow: 0em 1em 2.75em rgba(0, 0, 0, 0.3), 0em 0.22em 0.6em rgba(0, 0, 0, 0.15);
}
    #dark .shadow a:hover img,
    #dark .shadow video:hover,
    #dark a:hover img.shadow,
    #dark video:hover.shadow,
    #dark .ios-screenshot a:hover img,
    #dark .ios-screenshot video:hover,
    #dark .watchos-screenshot a:hover img,
    #dark .watchos-screenshot:hover video,
    #dark [data-hint]:after,
    #dark .bigfoot-footnote,
    #dark .widget a:hover img {
        box-shadow: 0em 2em 3.5em rgba(0, 0, 0, 0.35), 0em 0.45em 0.85em rgba(0, 0, 0, 0.2);
    }